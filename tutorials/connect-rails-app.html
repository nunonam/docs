<!DOCTYPE html><html lang="en"><head><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="#262626" name="theme-color"/><link rel="mask-icon" href="/favicon.svg" color="#262626"/><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="gURNntij37hKxpSUjda9znzNaOxZBG6H";;analytics.SNIPPET_VERSION="4.15.3";
analytics.load("gURNntij37hKxpSUjda9znzNaOxZBG6H");
analytics.page();
}}();</script><link rel="preload" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" as="style"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement;d.classList.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d.classList.add('dark')}else{d.style.colorScheme = 'light';d.classList.add('light')}}else if(e){d.classList.add(e|| '')}else{d.classList.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><link rel="shortcut icon" href="/favicon_system.svg" sizes="any" type="image/svg+xml"/><title>Connect a Rails app - Documentation - ChattyCloud</title><meta name="msapplication-TileColor" content="#da532c"/><meta name="description" content=""/><meta property="og:url" content="https://docs.chatty-cloud.com/tutorials/connect-rails-app"/><meta property="og:image" content="https://docs.chatty-cloud.com//img/internals/social_share.png"/><meta property="og:type" content="website"/><meta property="og:title" content="Connect a Rails app - Documentation - ChattyCloud"/><meta property="og:description" content=""/><meta name="twitter:url" content="https://docs.chatty-cloud.com/tutorials/connect-rails-app"/><meta name="twitter:image" content="https://docs.chatty-cloud.com//img/internals/social_share.png"/><meta name="twitter:title" content="Connect a Rails app - Documentation - ChattyCloud"/><meta name="twitter:description" content=""/><script type="application/ld+json">{&quot;@context&quot;:&quot;http://schema.org&quot;,&quot;@type&quot;:&quot;Organization&quot;,&quot;name&quot;:&quot;ChattyCloud, Inc.&quot;,&quot;url&quot;:&quot;https://docs.chatty-cloud.com&quot;,&quot;sameAs&quot;:[&quot;https://twitter.com/&quot;],&quot;address&quot;:{&quot;@type&quot;:&quot;PostalAddress&quot;,&quot;streetAddress&quot;:&quot;321 Castro St #200&quot;,&quot;addressLocality&quot;:&quot;Mountain View&quot;,&quot;addressRegion&quot;:&quot;CA&quot;,&quot;postalCode&quot;:&quot;94041&quot;,&quot;addressCountry&quot;:&quot;US&quot;}}</script><meta name="next-head-count" content="18"/><link rel="preload" href="/_next/static/css/d19452855f080e47.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d19452855f080e47.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6ed6fc696efb435c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6ed6fc696efb435c.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-49b6f2937c9ce9f4.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-d98b4a7f39fdfc80.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4f84c90584aacdb0.js" defer=""></script><script src="/_next/static/chunks/217-13521f692b432699.js" defer=""></script><script src="/_next/static/chunks/228-546d180dcfb89379.js" defer=""></script><script src="/_next/static/chunks/476-5e8e8e79956619f9.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bpost%5D-0dfa5a716bfbcb43.js" defer=""></script><script src="/_next/static/GHQDFLPu3FJU1Mt7z2jqP/_buildManifest.js" defer=""></script><script src="/_next/static/GHQDFLPu3FJU1Mt7z2jqP/_ssgManifest.js" defer=""></script><script src="/_next/static/GHQDFLPu3FJU1Mt7z2jqP/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="h-full"><div class="flex flex-col mx-auto bg-primary text-primary"><a href="#content" class="absolute z-50 px-2 py-1 border-b border-r rounded-br -ml-96 focus:ml-0 bg-secondary">Skip to content</a><div class="relative z-40 w-full py-3 mx-auto border-b bg-primary text-primary"><div class="md:hidden duration-300 fixed z-30 inset-0 transition-opacity opacity-0 pointer-events-none" aria-hidden="true"><div class="absolute inset-0 bg-primary"></div></div><header class="relative z-50 grid items-center grid-cols-2 px-3 mx-auto md:grid-cols-3 md:grid-rows-1 max-w-7xl sm:px-6 lg:px-8"><div class="flex items-center col-start-1 row-start-1"><a class="rounded text-primary" aria-label="Go to documentation homepage" href="https://chatty-cloud.com"><svg width="41" height="32" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 41 32"><path fill="currentColor" d="M39.386 0l-7.238 7.403C29.378 3.05 24.594.18 19.177.18c-4.13 0-8.014 1.672-10.918 4.721-2.892 3.029-4.487 7.046-4.487 11.316 0 1.093.102 2.166.317 3.207a28.011 28.011 0 00-2.31 2.745c-1.85 2.566-2.26 4.49-1.217 5.71.154.189.634.694 1.564.778.082.01.154.01.235.01 1.493 0 3.343-1.125 5.48-3.354l16.978-17.32-1.186-1.23L7.38 23.345a13.864 13.864 0 01-1.932-7.119c0-3.817 1.421-7.403 4.007-10.106 2.587-2.713 6.042-4.206 9.722-4.206 4.957 0 9.312 2.692 11.745 6.73l-12.92 13.219c-.84.862-1.892 1.924-2.659 3.112-1.39 2.135-1.083 3.723-.777 4.47l.01.02c.358.831.972 1.494 1.78 1.936.92.494 1.85.567 2.79.599h.04a15.249 15.249 0 0010.959-4.637c2.934-2.987 4.549-6.983 4.549-11.232a16.2 16.2 0 00-1.666-7.182L40.57 1.23 39.386 0zM2.36 26.942h-.01c-.286 0-.43-.105-.47-.137l-.041-.052c-.327-.379-.164-1.504 1.288-3.534.49-.694 1.043-1.335 1.492-1.85.389 1.114.9 2.187 1.534 3.217-2.065 2.03-3.251 2.356-3.793 2.356zm26.598-.8c-2.596 2.65-6.072 4.123-9.762 4.133-.93-.031-1.503-.105-2.055-.41a2.277 2.277 0 01-1.022-1.093c-.409-1.052.307-2.335.634-2.84.675-1.04 1.656-2.04 2.443-2.839l12.573-12.85a14.529 14.529 0 011.247 5.899c-.02 3.786-1.451 7.34-4.058 10z"></path></svg></a><div class="flex items-center lg:text-lg font-medium pl-1.5"><a class="text-primary" href="/">Documentation</a></div></div><div class="col-start-1 col-span-2 md:col-span-1 pt-3 md:pt-0 row-start-3 md:col-start-2 md:row-start-1 md:flex hidden"><input type="search" class="w-full leading-[1.5rem] px-1.5 rounded ring-offset-0 border shadow-sm text-base py-sm focus-ring bg-secondary text-primary border-secondary" id="searchbox" placeholder="Search documentation"/></div><div class="col-start-1 col-span-2 md:col-span-1 row-start-2 pt-5 md:pt-0 md:row-start-1 md:col-start-3 md:justify-end md:flex hidden"><a href="https://dashboard.chatty-cloud.com" class="mr-2 box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary h-button py-1.5 px-2">dashboard</a></div><div class="relative z-50 flex justify-end col-start-2 row-start-1 align-center md:hidden"><button aria-label="Open navigation menu" class="flex appearance-none focus:outline-none"><span class="HamburgerMenu_menuWrapper__TCSWe" data-open="false"><span class="HamburgerMenu_menu__fxUil"></span></span></button></div></header><div class="relative z-40 w-full px-3 pt-3 sm:px-6 lg:px-8 sm:w-1/2 md:hidden hidden"><div class="mb-3"><strong class="block mb-1">Quick Start</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/chattycloud-workflow">ChattyCloud workflow</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/branching">Branching</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/connection-strings">Connection strings</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/database-imports">Database imports</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/regions">Regions</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/web-console">Web console</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/authentication-methods">Authentication methods</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/mfa">Multi-factor authentication</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/sso">Single sign-on</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/security">Security &amp; Compliance</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/access-control">Access control</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/audit-log">Audit log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/security-log">Security log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/query-statistics">Query statistics</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/billing">Billing</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/back-up-and-restore">Back up and restore</a></span></div><div class="mb-3"><strong class="block mb-1">Tutorials</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/chattycloud-quick-start-guide">ChattyCloud quick start guide</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/connect-any-application">Connect any app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary bg-secondary !text-primary font-medium" href="/tutorials/connect-rails-app">Connect a Rails app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/connect-nodejs-app">Connect a Node.js app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/nextjs-chattycloud-netlify-template">Next.js and Netlify Template</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/deploy-to-vercel">Deploy to Vercel</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/prisma-data-platform-integration">Prisma Data Platform integration</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/automatic-rails-migrations">Automatic Rails migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/automatic-prisma-migrations">Automatic Prisma migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/change-unique-key">Change single unique key</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/operating-without-foreign-keys">Operating without FK constraints</a></span></div><div class="mb-3"><strong class="block mb-1">Reference</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/chattycloud-environment-setup">ChattyCloud environment set up</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/chattycloud-cli">ChattyCloud CLI</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/secure-connections">Secure connections</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/service-tokens">Service tokens</a></span></div><div class="flex items-stretch shadow-sm rounded text-primary inline-flex"><label class="flex items-center px-1.5 mb-0 font-medium border-t border-b border-l rounded-l bg-secondary border-secondary whitespace-nowrap text-sm py-1 h-button-sm">Theme</label><select class="inline-block pl-1.5 pr-4 py-0 border rounded shadow-sm bg-primary border-secondary focus-ring h-button-sm text-sm block w-full pl-2 rounded-l-none rounded-r !shadow-none"><option value="light">Light</option><option value="dark">Dark</option><option value="system">System</option></select></div></div></div><main class="flex flex-col flex-1 w-full px-3 py-4 mx-auto bg-primary md:py-8 max-w-7xl sm:px-6 lg:px-8"><div class="flex flex-col h-full md:flex-row"><div class="flex-shrink-0 hidden w-full md:block md:w-1/3 md:pr-4 lg:pr-8 xl:pr-12"><div class="mb-3"><strong class="block mb-1">Quick Start</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/chattycloud-workflow">ChattyCloud workflow</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/branching">Branching</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/connection-strings">Connection strings</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/database-imports">Database imports</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/regions">Regions</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/web-console">Web console</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/authentication-methods">Authentication methods</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/mfa">Multi-factor authentication</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/sso">Single sign-on</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/security">Security &amp; Compliance</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/access-control">Access control</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/audit-log">Audit log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/security-log">Security log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/query-statistics">Query statistics</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/billing">Billing</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/concepts/back-up-and-restore">Back up and restore</a></span></div><div class="mb-3"><strong class="block mb-1">Tutorials</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/chattycloud-quick-start-guide">ChattyCloud quick start guide</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/connect-any-application">Connect any app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary bg-secondary !text-primary font-medium" href="/tutorials/connect-rails-app">Connect a Rails app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/connect-nodejs-app">Connect a Node.js app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/nextjs-chattycloud-netlify-template">Next.js and Netlify Template</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/deploy-to-vercel">Deploy to Vercel</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/prisma-data-platform-integration">Prisma Data Platform integration</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/automatic-rails-migrations">Automatic Rails migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/automatic-prisma-migrations">Automatic Prisma migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/change-unique-key">Change single unique key</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/tutorials/operating-without-foreign-keys">Operating without FK constraints</a></span></div><div class="mb-3"><strong class="block mb-1">Reference</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/chattycloud-environment-setup">ChattyCloud environment set up</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/chattycloud-cli">ChattyCloud CLI</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/secure-connections">Secure connections</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/reference/service-tokens">Service tokens</a></span></div><div class="flex items-stretch shadow-sm rounded text-primary inline-flex"><label class="flex items-center px-1.5 mb-0 font-medium border-t border-b border-l rounded-l bg-secondary border-secondary whitespace-nowrap text-sm py-1 h-button-sm">Theme</label><select class="inline-block pl-1.5 pr-4 py-0 border rounded shadow-sm bg-primary border-secondary focus-ring h-button-sm text-sm block w-full pl-2 rounded-l-none rounded-r !shadow-none"><option value="light">Light</option><option value="dark">Dark</option><option value="system">System</option></select></div></div><div class="relative flex-1 min-w-0"><div class="mdx-content"><div class="mb-4"><h1 class="mb-1 text-4xl font-semibold">Connect a Rails app</h1></div><div><a class="text-primary" href="#introduction"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="introduction">Introduction</h1></a><p>In this tutorial, we’re going to create a simple Rails application named <em>blog</em> and connect it to a PlanetScale database. We’ll perform the initial migration from our local Rails application, and set up the database for future development.</p><a class="text-primary" href="#prerequisites"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="prerequisites">Prerequisites</h1></a><ul><li>Install <a href="https://guides.rubyonrails.org/getting_started.html#creating-a-new-rails-project-installing-rails">Ruby and the Rails gem</a>.</li><li>Install the <a href="https://github.com/planetscale/cli">PlanetScale CLI</a>.</li><li>Authenticate the CLI with the following command:</li></ul><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale auth login</span></div></div></div></div></pre><a class="text-primary" href="#create-a-rails-project"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="create-a-rails-project">Create a Rails project</h1></a><p>To connect a Rails application to a PlanetScale database, we start by creating a sample Rails project named <em>blog</em> and installing the libraries we&#x27;ll need to connect to our PlanetScale database.</p><p>Open the command line and follow these steps:</p><ol><li>Create a Rails app named <em>blog</em> by running the following command:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">rails new blog</span></div></div></div></div></pre><ol start="2"><li>Change into the directory you just created, the <code>blog</code> Rails app:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">cd blog</span></div></div></div></div></pre><ol start="3"><li>Next, add the <code>mysql2</code> gem to your <em>Gemfile</em>:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">gem &quot;mysql2&quot;</span></div></div></div></div></pre><ol start="4"><li>Then run <code>bundle install</code></li></ol><p>At this point, we have accomplished two things: we&#x27;ve created a Rails project called <em>blog</em> and installed the libraries that we&#x27;ll need to connect to our PlanetScale database. Now it’s time to create a PlanetScale database.</p><a class="text-primary" href="#create-a-planetscale-database-and-password"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="create-a-planetscale-database-and-password">Create a PlanetScale database and password</h1></a><p>You can also create passwords in the PlanetScale application as documented <a href="/concepts/connection-strings#creating-a-password">here</a>.</p><a class="text-primary" href="#using-the-cli-to-create-a-connection-string"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="using-the-cli-to-create-a-connection-string">Using the CLI to create a connection string</h1></a><ol><li>Using the <code>pscale</code> CLI, create a new database also named <em>blog</em>:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale database create blog</span></div></div></div></div></pre><ol start="2"><li>Using the <code>pscale</code> CLI, create a new database password for the <code>main</code> branch of your database named <em>blog</em>:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale password create blog main development-password</span></div></div></div></div></pre><ol start="3"><li>Take note of the values it returns to you.</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">Please save the values below as they will not be shown again</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  NAME                  BRANCH   USERNAME       ACCESS HOST URL                     ROLE     ROLE DESCRIPTION   PASSWORD</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain"> --------------------- -------- -------------- ----------------------------------- -------- ------------------ -------------------------------------------------------</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  development-password  main     c8ys5g3bbcdk   0ie08slztxki.us-east-3.psdb.cloud   writer   Can Read &amp; Write   pscale_pw_wpSDL94q7HfBGa99Fev45tTjI5bqUxcqFKqAdUw3lFc</span></div></div></div></div></pre><a class="text-primary" href="#configure-rails-and-planetscale"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="configure-rails-and-planetscale">Configure Rails and PlanetScale</h1></a><p>Let&#x27;s set up our Rails application to talk to the new database.</p><ol><li>Open <code>config/database.yml</code> and configure the <code>development</code> database settings with your new credentials:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">development:</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  &lt;&lt;: *default</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  adapter: mysql2</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  database: blog</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  username: &lt;USERNAME&gt;</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  host: &lt;ACCESS HOST URL&gt;</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  password: &lt;PASSWORD&gt;</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  ssl_mode: :verify_identity</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  sslca: &quot;/etc/ssl/cert.pem&quot;</span></div></div></div></div></pre><p>The correct <code>sslca</code> path depends on your operating system and distribution. See <a href="/reference/planetscale-security#ca-root-configuration">CA root configuration</a> for more information.</p><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">We&#x27;re configuring the <b>development</b> Rails environment here for the sake of expedience. In actual use, the <b>main</b> database branch would typically serve the <b>production</b> environment.</div></div><p>Because this is a Rails app, we can also enable <a href="/tutorials/automatic-rails-migrations">Automatic Rails migrations</a> from the database&#x27;s settings page.</p><a class="text-primary" href="#migrate-your-database"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="migrate-your-database">Migrate your database</h1></a><p>Here comes the fun stuff! Now that your application is configured to talk to PlanetScale, we can create our first migration.</p><ol><li>Create a Rails migration and call it <code>CreateUsers</code>:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">rails generate migration CreateUsers</span></div></div></div></div></pre><p>This rails command begins the migration for our table that is currently empty and generates a Ruby file that’ll be named something like this:
<code>db/migrate/20211014210422_create_users.rb</code></p><ol start="2"><li>We can fill in the body of this skeleton file with a few more relevant details, such as a user&#x27;s <strong>name</strong> and <strong>email</strong>.</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">class CreateUsers &lt; ActiveRecord::Migration[6.1]</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  def change</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">    create_table :users do |t|</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">      t.string :name</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">      t.string :email</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">      t.timestamps</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">    end</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  end</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">end</span></div></div></div></div></pre><ol start="3"><li>Now let&#x27;s run our migration:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">bin/rails db:migrate</span></div></div></div></div></pre><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-purple-50 dark:bg-purple-900 border-purple-100 dark:border-purple-800"> <!-- --> <strong>Tip</strong><div class="mt-1 info-block">If you run into a proxy ERROR stating that address is already in use, run the following command: <em>spring stop</em>. (Spring is a Ruby library that pre-loads and runs all of our code into memory, detecting when our source code has changed.) Then, try the above command again.</div></div><ol start="4"><li>Now give it a whirl to make sure we can query the new table with our <code>pscale</code> CLI:</li></ol><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale shell blog main</span></div></div></div></div></pre><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">blog/main&gt; show tables;</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| Tables_in_blog       |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| ar_internal_metadata |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| schema_migrations    |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| users                |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">blog/main&gt; describe users;</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+------------+--------------+------+-----+---------+----------------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| Field      | Type         | Null | Key | Default | Extra          |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+------------+--------------+------+-----+---------+----------------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| id         | bigint       | NO   | PRI | NULL    | auto_increment |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| name       | varchar(255) | YES  |     | NULL    |                |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| email      | varchar(255) | YES  |     | NULL    |                |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| created_at | datetime(6)  | NO   |     | NULL    |                |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| updated_at | datetime(6)  | NO   |     | NULL    |                |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+------------+--------------+------+-----+---------+----------------+</span></div></div></div></div></pre><a class="text-primary" href="#promote-your-main-branch-to-a-production-branch"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="promote-your-main-branch-to-a-production-branch">Promote your main branch to a production branch</h1></a><p>A production branch is a highly available, protected database branch. Direct schema changes (CREATE, ALTER, and DELETE) are not allowed on production branches to prevent accidental data loss and must be applied via <a href="/concepts/planetscale-workflow">deploy requests</a>.</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale branch promote blog main</span></div></div></div></div></pre><p>Congratulations! You&#x27;re ready to develop your Rails application against PlanetScale.</p><a class="text-primary" href="#summary"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="summary">Summary</h1></a><p>In this tutorial, we created a simple Rails application named <em>blog</em> and connected it to a PlanetScale database.</p><a class="text-primary" href="#further-reading"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="further-reading">Further reading</h1></a><p>If you&#x27;re interested in learning how to secure your application&#x27;s connection to PlanetScale, please read <a href="/reference/secure-connections">Connecting to PlanetScale securely</a>.</p><a class="text-primary" href="#what&#x27;s-next?"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="what&#x27;s-next?">What&#x27;s next?</h1></a><p>Now that you&#x27;ve successfully connected your Rails app to PlanetScale, it&#x27;s time to make more schema changes to your tables! Learn more about how PlanetScale allows you to make <a href="/concepts/nonblocking-schema-changes">non-blocking schema changes</a> to your database, or how to keep your <strong>schema_migrations</strong> table up-to-date between development and production branches with <a href="/tutorials/automatic-rails-migrations">automatic schema migrations</a>.</p><a class="text-primary" href="#need-help?"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="need-help?">Need help?</h1></a><p>Get help from <a href="https://www.planetscale.com/support">PlanetScale&#x27;s support team</a>, or join our <a href="https://github.com/planetscale/beta/discussions">GitHub Discussion board</a> to see how others are using PlanetScale.</p></div><div class="flex items-center mt-4 mb-4"><strong class="mr-1">Was this page useful?</strong><button type="button" class="mr-1 box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary text-sm py-sm px-1">Yes</button><button type="button" class="box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary text-sm py-sm px-1">No</button></div><div class="flex flex-col sm:flex-row sm:items-center justify-between pb-4 border-b mb-4"><div class="text-secondary mb-1 sm:mb-0">Last updated on <!-- -->December<!-- --> <!-- -->25<!-- -->, <!-- -->2021</div><a href="https://github.com/chattycloud/docs/blob/main/content/docs/tutorials/connect-rails-app.mdx">Help us improve this page</a></div></div><div class="mt-4 flex items-center justify-between"><span><a class="mr-1.5 text-secondary hover:text-blue" href="https://www.chatty-cloud.com/legal/privacy">Privacy</a><a class="text-secondary hover:text-blue" href="https://www.chatty-cloud.com/legal/siteterms">Terms</a></span><span class="text-secondary">© 2021 ChattyCloud Inc.</span></div></div></div></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Connect a Rails app","subtitle":""},"headings":[{"depth":2,"value":"Introduction"},{"depth":2,"value":"Prerequisites"},{"depth":2,"value":"Create a Rails project"},{"depth":2,"value":"Create a PlanetScale database and password"},{"depth":3,"value":"Using the CLI to create a connection string"},{"depth":2,"value":"Configure Rails and PlanetScale"},{"depth":2,"value":"Migrate your database"},{"depth":2,"value":"Promote your main branch to a production branch"},{"depth":2,"value":"Summary"},{"depth":2,"value":"Further reading"},{"depth":2,"value":"What's next?"},{"depth":2,"value":"Need help?"}],"body":{"compiledSource":"var m=Object.defineProperty,d=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var s=(a,t,n)=\u003et in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=\u003e{for(var n in t||(t={}))l.call(t,n)\u0026\u0026s(a,n,t[n]);if(r)for(var n of r(t))i.call(t,n)\u0026\u0026s(a,n,t[n]);return a},p=(a,t)=\u003ed(a,h(t));var c=(a,t)=\u003e{var n={};for(var o in a)l.call(a,o)\u0026\u0026t.indexOf(o)\u003c0\u0026\u0026(n[o]=a[o]);if(a!=null\u0026\u0026r)for(var o of r(a))t.indexOf(o)\u003c0\u0026\u0026i.call(a,o)\u0026\u0026(n[o]=a[o]);return n};const makeShortcode=a=\u003efunction(n){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},InfoBlock=makeShortcode(\"InfoBlock\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var o=n,{components:a}=o,t=c(o,[\"components\"]);return mdx(MDXLayout,p(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Introduction\"),mdx(\"p\",null,\"In this tutorial, we\\u2019re going to create a simple Rails application named \",mdx(\"em\",{parentName:\"p\"},\"blog\"),\" and connect it to a PlanetScale database. We\\u2019ll perform the initial migration from our local Rails application, and set up the database for future development.\"),mdx(\"h2\",null,\"Prerequisites\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Install \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://guides.rubyonrails.org/getting_started.html#creating-a-new-rails-project-installing-rails\"}),\"Ruby and the Rails gem\"),\".\"),mdx(\"li\",{parentName:\"ul\"},\"Install the \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/planetscale/cli\"}),\"PlanetScale CLI\"),\".\"),mdx(\"li\",{parentName:\"ul\"},\"Authenticate the CLI with the following command:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale auth login\n`)),mdx(\"h2\",null,\"Create a Rails project\"),mdx(\"p\",null,\"To connect a Rails application to a PlanetScale database, we start by creating a sample Rails project named \",mdx(\"em\",{parentName:\"p\"},\"blog\"),\" and installing the libraries we'll need to connect to our PlanetScale database.\"),mdx(\"p\",null,\"Open the command line and follow these steps:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Create a Rails app named \",mdx(\"em\",{parentName:\"li\"},\"blog\"),\" by running the following command:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`rails new blog\n`)),mdx(\"ol\",e({},{start:2}),mdx(\"li\",{parentName:\"ol\"},\"Change into the directory you just created, the \",mdx(\"inlineCode\",{parentName:\"li\"},\"blog\"),\" Rails app:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`cd blog\n`)),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},\"Next, add the \",mdx(\"inlineCode\",{parentName:\"li\"},\"mysql2\"),\" gem to your \",mdx(\"em\",{parentName:\"li\"},\"Gemfile\"),\":\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ruby\"}),`gem \"mysql2\"\n`)),mdx(\"ol\",e({},{start:4}),mdx(\"li\",{parentName:\"ol\"},\"Then run \",mdx(\"inlineCode\",{parentName:\"li\"},\"bundle install\"))),mdx(\"p\",null,\"At this point, we have accomplished two things: we've created a Rails project called \",mdx(\"em\",{parentName:\"p\"},\"blog\"),\" and installed the libraries that we'll need to connect to our PlanetScale database. Now it\\u2019s time to create a PlanetScale database.\"),mdx(\"h2\",null,\"Create a PlanetScale database and password\"),mdx(\"p\",null,\"You can also create passwords in the PlanetScale application as documented \",mdx(\"a\",e({parentName:\"p\"},{href:\"/concepts/connection-strings#creating-a-password\"}),\"here\"),\".\"),mdx(\"h3\",null,\"Using the CLI to create a connection string\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"pscale\"),\" CLI, create a new database also named \",mdx(\"em\",{parentName:\"li\"},\"blog\"),\":\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale database create blog\n`)),mdx(\"ol\",e({},{start:2}),mdx(\"li\",{parentName:\"ol\"},\"Using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"pscale\"),\" CLI, create a new database password for the \",mdx(\"inlineCode\",{parentName:\"li\"},\"main\"),\" branch of your database named \",mdx(\"em\",{parentName:\"li\"},\"blog\"),\":\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale password create blog main development-password\n`)),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},\"Take note of the values it returns to you.\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`Please save the values below as they will not be shown again\n  NAME                  BRANCH   USERNAME       ACCESS HOST URL                     ROLE     ROLE DESCRIPTION   PASSWORD\n --------------------- -------- -------------- ----------------------------------- -------- ------------------ -------------------------------------------------------\n  development-password  main     c8ys5g3bbcdk   0ie08slztxki.us-east-3.psdb.cloud   writer   Can Read \u0026 Write   pscale_pw_wpSDL94q7HfBGa99Fev45tTjI5bqUxcqFKqAdUw3lFc\n`)),mdx(\"h2\",null,\"Configure Rails and PlanetScale\"),mdx(\"p\",null,\"Let's set up our Rails application to talk to the new database.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Open \",mdx(\"inlineCode\",{parentName:\"li\"},\"config/database.yml\"),\" and configure the \",mdx(\"inlineCode\",{parentName:\"li\"},\"development\"),\" database settings with your new credentials:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`development:\n  \u003c\u003c: *default\n  adapter: mysql2\n  database: blog\n  username: \u003cUSERNAME\u003e\n  host: \u003cACCESS HOST URL\u003e\n  password: \u003cPASSWORD\u003e\n  ssl_mode: :verify_identity\n  sslca: \"/etc/ssl/cert.pem\"\n`)),mdx(\"p\",null,\"The correct \",mdx(\"inlineCode\",{parentName:\"p\"},\"sslca\"),\" path depends on your operating system and distribution. See \",mdx(\"a\",e({parentName:\"p\"},{href:\"/reference/planetscale-security#ca-root-configuration\"}),\"CA root configuration\"),\" for more information.\"),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"We're configuring the \",mdx(\"b\",null,\"development\"),\" Rails environment here for the sake of expedience. In actual use, the \",mdx(\"b\",null,\"main\"),\" database branch would typically serve the \",mdx(\"b\",null,\"production\"),\" environment.\"),mdx(\"p\",null,\"Because this is a Rails app, we can also enable \",mdx(\"a\",e({parentName:\"p\"},{href:\"/tutorials/automatic-rails-migrations\"}),\"Automatic Rails migrations\"),\" from the database's settings page.\"),mdx(\"h2\",null,\"Migrate your database\"),mdx(\"p\",null,\"Here comes the fun stuff! Now that your application is configured to talk to PlanetScale, we can create our first migration.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Create a Rails migration and call it \",mdx(\"inlineCode\",{parentName:\"li\"},\"CreateUsers\"),\":\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`rails generate migration CreateUsers\n`)),mdx(\"p\",null,`This rails command begins the migration for our table that is currently empty and generates a Ruby file that\\u2019ll be named something like this:\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"db/migrate/20211014210422_create_users.rb\")),mdx(\"ol\",e({},{start:2}),mdx(\"li\",{parentName:\"ol\"},\"We can fill in the body of this skeleton file with a few more relevant details, such as a user's \",mdx(\"strong\",{parentName:\"li\"},\"name\"),\" and \",mdx(\"strong\",{parentName:\"li\"},\"email\"),\".\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ruby\"}),`class CreateUsers \u003c ActiveRecord::Migration[6.1]\n  def change\n    create_table :users do |t|\n      t.string :name\n      t.string :email\n      t.timestamps\n    end\n  end\nend\n`)),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},\"Now let's run our migration:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`bin/rails db:migrate\n`)),mdx(InfoBlock,{type:\"tip\",mdxType:\"InfoBlock\"},\"If you run into a proxy ERROR stating that address is already in use, run the following command: \",mdx(\"em\",null,\"spring stop\"),\". (Spring is a Ruby library that pre-loads and runs all of our code into memory, detecting when our source code has changed.) Then, try the above command again.\"),mdx(\"ol\",e({},{start:4}),mdx(\"li\",{parentName:\"ol\"},\"Now give it a whirl to make sure we can query the new table with our \",mdx(\"inlineCode\",{parentName:\"li\"},\"pscale\"),\" CLI:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale shell blog main\n`)),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sql\"}),`blog/main\u003e show tables;\n+----------------------+\n| Tables_in_blog       |\n+----------------------+\n| ar_internal_metadata |\n| schema_migrations    |\n| users                |\n+----------------------+\nblog/main\u003e describe users;\n+------------+--------------+------+-----+---------+----------------+\n| Field      | Type         | Null | Key | Default | Extra          |\n+------------+--------------+------+-----+---------+----------------+\n| id         | bigint       | NO   | PRI | NULL    | auto_increment |\n| name       | varchar(255) | YES  |     | NULL    |                |\n| email      | varchar(255) | YES  |     | NULL    |                |\n| created_at | datetime(6)  | NO   |     | NULL    |                |\n| updated_at | datetime(6)  | NO   |     | NULL    |                |\n+------------+--------------+------+-----+---------+----------------+\n`)),mdx(\"h2\",null,\"Promote your main branch to a production branch\"),mdx(\"p\",null,\"A production branch is a highly available, protected database branch. Direct schema changes (CREATE, ALTER, and DELETE) are not allowed on production branches to prevent accidental data loss and must be applied via \",mdx(\"a\",e({parentName:\"p\"},{href:\"/concepts/planetscale-workflow\"}),\"deploy requests\"),\".\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale branch promote blog main\n`)),mdx(\"p\",null,\"Congratulations! You're ready to develop your Rails application against PlanetScale.\"),mdx(\"h2\",null,\"Summary\"),mdx(\"p\",null,\"In this tutorial, we created a simple Rails application named \",mdx(\"em\",{parentName:\"p\"},\"blog\"),\" and connected it to a PlanetScale database.\"),mdx(\"h2\",null,\"Further reading\"),mdx(\"p\",null,\"If you're interested in learning how to secure your application's connection to PlanetScale, please read \",mdx(\"a\",e({parentName:\"p\"},{href:\"/reference/secure-connections\"}),\"Connecting to PlanetScale securely\"),\".\"),mdx(\"h2\",null,\"What's next?\"),mdx(\"p\",null,\"Now that you've successfully connected your Rails app to PlanetScale, it's time to make more schema changes to your tables! Learn more about how PlanetScale allows you to make \",mdx(\"a\",e({parentName:\"p\"},{href:\"/concepts/nonblocking-schema-changes\"}),\"non-blocking schema changes\"),\" to your database, or how to keep your \",mdx(\"strong\",{parentName:\"p\"},\"schema_migrations\"),\" table up-to-date between development and production branches with \",mdx(\"a\",e({parentName:\"p\"},{href:\"/tutorials/automatic-rails-migrations\"}),\"automatic schema migrations\"),\".\"),mdx(\"h2\",null,\"Need help?\"),mdx(\"p\",null,\"Get help from \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.planetscale.com/support\"}),\"PlanetScale's support team\"),\", or join our \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/planetscale/beta/discussions\"}),\"GitHub Discussion board\"),\" to see how others are using PlanetScale.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"fields":{"slug":"tutorials/connect-rails-app","lastUpdatedOn":"2021-12-25T02:12:47.278Z"}},"__N_SSG":true},"page":"/[category]/[post]","query":{"category":"tutorials","post":"connect-rails-app"},"buildId":"GHQDFLPu3FJU1Mt7z2jqP","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>