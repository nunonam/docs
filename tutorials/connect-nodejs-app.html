<!DOCTYPE html><html lang="en"><head><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="#262626" name="theme-color"/><link rel="mask-icon" href="/favicon.svg" color="#262626"/><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="gURNntij37hKxpSUjda9znzNaOxZBG6H";;analytics.SNIPPET_VERSION="4.15.3";
analytics.load("gURNntij37hKxpSUjda9znzNaOxZBG6H");
analytics.page();
}}();</script><link rel="preload" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" as="style"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement;d.classList.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d.classList.add('dark')}else{d.style.colorScheme = 'light';d.classList.add('light')}}else if(e){d.classList.add(e|| '')}else{d.classList.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><link rel="shortcut icon" href="/favicon_system.svg" sizes="any" type="image/svg+xml"/><title>Connect a Node.js app - Documentation - ChattyCloud</title><meta name="msapplication-TileColor" content="#da532c"/><meta name="description" content=""/><meta property="og:url" content="https://docs.chatty-cloud.com/tutorials/connect-nodejs-app"/><meta property="og:image" content="https://docs.chatty-cloud.com//img/internals/social_share.png"/><meta property="og:type" content="website"/><meta property="og:title" content="Connect a Node.js app - Documentation - ChattyCloud"/><meta property="og:description" content=""/><meta name="twitter:url" content="https://docs.chatty-cloud.com/tutorials/connect-nodejs-app"/><meta name="twitter:image" content="https://docs.chatty-cloud.com//img/internals/social_share.png"/><meta name="twitter:title" content="Connect a Node.js app - Documentation - ChattyCloud"/><meta name="twitter:description" content=""/><script type="application/ld+json">{&quot;@context&quot;:&quot;http://schema.org&quot;,&quot;@type&quot;:&quot;Organization&quot;,&quot;name&quot;:&quot;ChattyCloud, Inc.&quot;,&quot;url&quot;:&quot;https://docs.chatty-cloud.com&quot;,&quot;sameAs&quot;:[&quot;https://twitter.com/&quot;],&quot;address&quot;:{&quot;@type&quot;:&quot;PostalAddress&quot;,&quot;streetAddress&quot;:&quot;321 Castro St #200&quot;,&quot;addressLocality&quot;:&quot;Mountain View&quot;,&quot;addressRegion&quot;:&quot;CA&quot;,&quot;postalCode&quot;:&quot;94041&quot;,&quot;addressCountry&quot;:&quot;US&quot;}}</script><meta name="next-head-count" content="18"/><link rel="preload" href="/docs/_next/static/css/d19452855f080e47.css" as="style"/><link rel="stylesheet" href="/docs/_next/static/css/d19452855f080e47.css" data-n-g=""/><link rel="preload" href="/docs/_next/static/css/6ed6fc696efb435c.css" as="style"/><link rel="stylesheet" href="/docs/_next/static/css/6ed6fc696efb435c.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/docs/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/docs/_next/static/chunks/webpack-21775410f7f02689.js" defer=""></script><script src="/docs/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/docs/_next/static/chunks/main-d78ee85becc0fade.js" defer=""></script><script src="/docs/_next/static/chunks/pages/_app-4f84c90584aacdb0.js" defer=""></script><script src="/docs/_next/static/chunks/217-13521f692b432699.js" defer=""></script><script src="/docs/_next/static/chunks/228-546d180dcfb89379.js" defer=""></script><script src="/docs/_next/static/chunks/476-5e8e8e79956619f9.js" defer=""></script><script src="/docs/_next/static/chunks/pages/%5Bcategory%5D/%5Bpost%5D-0dfa5a716bfbcb43.js" defer=""></script><script src="/docs/_next/static/-s0dJXBYWF7LmYhpsQySm/_buildManifest.js" defer=""></script><script src="/docs/_next/static/-s0dJXBYWF7LmYhpsQySm/_ssgManifest.js" defer=""></script><script src="/docs/_next/static/-s0dJXBYWF7LmYhpsQySm/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="h-full"><div class="flex flex-col mx-auto bg-primary text-primary"><a href="#content" class="absolute z-50 px-2 py-1 border-b border-r rounded-br -ml-96 focus:ml-0 bg-secondary">Skip to content</a><div class="relative z-40 w-full py-3 mx-auto border-b bg-primary text-primary"><div class="md:hidden duration-300 fixed z-30 inset-0 transition-opacity opacity-0 pointer-events-none" aria-hidden="true"><div class="absolute inset-0 bg-primary"></div></div><header class="relative z-50 grid items-center grid-cols-2 px-3 mx-auto md:grid-cols-3 md:grid-rows-1 max-w-7xl sm:px-6 lg:px-8"><div class="flex items-center col-start-1 row-start-1"><a class="rounded text-primary" aria-label="Go to documentation homepage" href="https://chatty-cloud.com"><svg width="41" height="32" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 41 32"><path fill="currentColor" d="M39.386 0l-7.238 7.403C29.378 3.05 24.594.18 19.177.18c-4.13 0-8.014 1.672-10.918 4.721-2.892 3.029-4.487 7.046-4.487 11.316 0 1.093.102 2.166.317 3.207a28.011 28.011 0 00-2.31 2.745c-1.85 2.566-2.26 4.49-1.217 5.71.154.189.634.694 1.564.778.082.01.154.01.235.01 1.493 0 3.343-1.125 5.48-3.354l16.978-17.32-1.186-1.23L7.38 23.345a13.864 13.864 0 01-1.932-7.119c0-3.817 1.421-7.403 4.007-10.106 2.587-2.713 6.042-4.206 9.722-4.206 4.957 0 9.312 2.692 11.745 6.73l-12.92 13.219c-.84.862-1.892 1.924-2.659 3.112-1.39 2.135-1.083 3.723-.777 4.47l.01.02c.358.831.972 1.494 1.78 1.936.92.494 1.85.567 2.79.599h.04a15.249 15.249 0 0010.959-4.637c2.934-2.987 4.549-6.983 4.549-11.232a16.2 16.2 0 00-1.666-7.182L40.57 1.23 39.386 0zM2.36 26.942h-.01c-.286 0-.43-.105-.47-.137l-.041-.052c-.327-.379-.164-1.504 1.288-3.534.49-.694 1.043-1.335 1.492-1.85.389 1.114.9 2.187 1.534 3.217-2.065 2.03-3.251 2.356-3.793 2.356zm26.598-.8c-2.596 2.65-6.072 4.123-9.762 4.133-.93-.031-1.503-.105-2.055-.41a2.277 2.277 0 01-1.022-1.093c-.409-1.052.307-2.335.634-2.84.675-1.04 1.656-2.04 2.443-2.839l12.573-12.85a14.529 14.529 0 011.247 5.899c-.02 3.786-1.451 7.34-4.058 10z"></path></svg></a><div class="flex items-center lg:text-lg font-medium pl-1.5"><a class="text-primary" href="/docs">Documentation</a></div></div><div class="col-start-1 col-span-2 md:col-span-1 pt-3 md:pt-0 row-start-3 md:col-start-2 md:row-start-1 md:flex hidden"><input type="search" class="w-full leading-[1.5rem] px-1.5 rounded ring-offset-0 border shadow-sm text-base py-sm focus-ring bg-secondary text-primary border-secondary" id="searchbox" placeholder="Search documentation"/></div><div class="col-start-1 col-span-2 md:col-span-1 row-start-2 pt-5 md:pt-0 md:row-start-1 md:col-start-3 md:justify-end md:flex hidden"><a href="https://dashboard.chatty-cloud.com" class="mr-2 box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary h-button py-1.5 px-2">dashboard</a></div><div class="relative z-50 flex justify-end col-start-2 row-start-1 align-center md:hidden"><button aria-label="Open navigation menu" class="flex appearance-none focus:outline-none"><span class="HamburgerMenu_menuWrapper__TCSWe" data-open="false"><span class="HamburgerMenu_menu__fxUil"></span></span></button></div></header><div class="relative z-40 w-full px-3 pt-3 sm:px-6 lg:px-8 sm:w-1/2 md:hidden hidden"><div class="mb-3"><strong class="block mb-1">Quick Start</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/chattycloud-workflow">ChattyCloud workflow</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/branching">Branching</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/connection-strings">Connection strings</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/database-imports">Database imports</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/regions">Regions</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/web-console">Web console</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/authentication-methods">Authentication methods</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/mfa">Multi-factor authentication</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/sso">Single sign-on</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security">Security &amp; Compliance</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/access-control">Access control</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/audit-log">Audit log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security-log">Security log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/query-statistics">Query statistics</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/billing">Billing</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/back-up-and-restore">Back up and restore</a></span></div><div class="mb-3"><strong class="block mb-1">Tutorials</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/chattycloud-quick-start-guide">ChattyCloud quick start guide</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-any-application">Connect any app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-rails-app">Connect a Rails app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary bg-secondary !text-primary font-medium" href="/docs/tutorials/connect-nodejs-app">Connect a Node.js app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/nextjs-chattycloud-netlify-template">Next.js and Netlify Template</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/deploy-to-vercel">Deploy to Vercel</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/prisma-data-platform-integration">Prisma Data Platform integration</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-rails-migrations">Automatic Rails migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-prisma-migrations">Automatic Prisma migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/change-unique-key">Change single unique key</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/operating-without-foreign-keys">Operating without FK constraints</a></span></div><div class="mb-3"><strong class="block mb-1">Reference</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-environment-setup">ChattyCloud environment set up</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-cli">ChattyCloud CLI</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/secure-connections">Secure connections</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/service-tokens">Service tokens</a></span></div><div class="flex items-stretch shadow-sm rounded text-primary inline-flex"><label class="flex items-center px-1.5 mb-0 font-medium border-t border-b border-l rounded-l bg-secondary border-secondary whitespace-nowrap text-sm py-1 h-button-sm">Theme</label><select class="inline-block pl-1.5 pr-4 py-0 border rounded shadow-sm bg-primary border-secondary focus-ring h-button-sm text-sm block w-full pl-2 rounded-l-none rounded-r !shadow-none"><option value="light">Light</option><option value="dark">Dark</option><option value="system">System</option></select></div></div></div><main class="flex flex-col flex-1 w-full px-3 py-4 mx-auto bg-primary md:py-8 max-w-7xl sm:px-6 lg:px-8"><div class="flex flex-col h-full md:flex-row"><div class="flex-shrink-0 hidden w-full md:block md:w-1/3 md:pr-4 lg:pr-8 xl:pr-12"><div class="mb-3"><strong class="block mb-1">Quick Start</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/chattycloud-workflow">ChattyCloud workflow</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/branching">Branching</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/connection-strings">Connection strings</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/database-imports">Database imports</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/regions">Regions</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/web-console">Web console</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/authentication-methods">Authentication methods</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/mfa">Multi-factor authentication</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/sso">Single sign-on</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security">Security &amp; Compliance</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/access-control">Access control</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/audit-log">Audit log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security-log">Security log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/query-statistics">Query statistics</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/billing">Billing</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/back-up-and-restore">Back up and restore</a></span></div><div class="mb-3"><strong class="block mb-1">Tutorials</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/chattycloud-quick-start-guide">ChattyCloud quick start guide</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-any-application">Connect any app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-rails-app">Connect a Rails app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary bg-secondary !text-primary font-medium" href="/docs/tutorials/connect-nodejs-app">Connect a Node.js app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/nextjs-chattycloud-netlify-template">Next.js and Netlify Template</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/deploy-to-vercel">Deploy to Vercel</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/prisma-data-platform-integration">Prisma Data Platform integration</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-rails-migrations">Automatic Rails migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-prisma-migrations">Automatic Prisma migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/change-unique-key">Change single unique key</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/operating-without-foreign-keys">Operating without FK constraints</a></span></div><div class="mb-3"><strong class="block mb-1">Reference</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-environment-setup">ChattyCloud environment set up</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-cli">ChattyCloud CLI</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/secure-connections">Secure connections</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/service-tokens">Service tokens</a></span></div><div class="flex items-stretch shadow-sm rounded text-primary inline-flex"><label class="flex items-center px-1.5 mb-0 font-medium border-t border-b border-l rounded-l bg-secondary border-secondary whitespace-nowrap text-sm py-1 h-button-sm">Theme</label><select class="inline-block pl-1.5 pr-4 py-0 border rounded shadow-sm bg-primary border-secondary focus-ring h-button-sm text-sm block w-full pl-2 rounded-l-none rounded-r !shadow-none"><option value="light">Light</option><option value="dark">Dark</option><option value="system">System</option></select></div></div><div class="relative flex-1 min-w-0"><div class="mdx-content"><div class="mb-4"><h1 class="mb-1 text-4xl font-semibold">Connect a Node.js app</h1></div><div><a class="text-primary" href="#introduction"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="introduction">Introduction</h1></a><p>In this tutorial, you&#x27;ll create a simple Node.js and Express.js application and connect it to a PlanetScale database.</p><a class="text-primary" href="#prerequisites"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="prerequisites">Prerequisites</h1></a><ul><li><a href="https://nodejs.org/en/download/">Node.js</a></li><li><a href="https://github.com/planetscale/cli">PlanetScale CLI</a></li><li>Authenticate the CLI with the following command:</li></ul><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale auth login</span></div></div></div></div></pre><a class="text-primary" href="#set-up-the-database"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="set-up-the-database">Set up the database</h1></a><p>First, create a new database with the following command:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale database create &lt;DATABASE_NAME&gt;</span></div></div></div></div></pre><p>Next, let&#x27;s add some data to the database. You&#x27;ll create a new table called <code>users</code> and add one record to it.</p><p>To do this, use the PlanetScale CLI shell to open a MySQL shell where you can manipulate your database. You may need to <a href="/reference/planetscale-environment-setup">install the MySQL command line client</a> if you haven&#x27;t already.</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale shell &lt;DATABASE_NAME&gt; &lt;BRANCH_NAME&gt;</span></div></div></div></div></pre><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">A branch, <code>main</code>, was automatically created when you created your database, so you can use that for <code>BRANCH_NAME</code>.</div></div><p>Create the <code>users</code> table:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">CREATE TABLE `users` (</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  `email` varchar(255) NOT NULL,</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  `first_name` varchar(255),</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  `last_name` varchar(255)</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">);</span></div></div></div></div></pre><p>Then, add a record to it with:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">INSERT INTO `users` (id, email, first_name, last_name)</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">VALUES  (1, &#x27;hp@example.com&#x27;, &#x27;Harry&#x27;, &#x27;Potter&#x27;);</span></div></div></div></div></pre><p>You can verify it was added with:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">select * from users;</span></div></div></div></div></pre><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">+----+----------------+------------+-----------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">| id | email          | first_name | last_name |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+----+----------------+------------+-----------+</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">|  1 | hp@example.com | Harry      | Potter    |</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">+----+----------------+------------+-----------+</span></div></div></div></div></pre><p>Next, you&#x27;ll set up the Express starter application.</p><a class="text-primary" href="#set-up-the-starter-nodejs-app"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="set-up-the-starter-nodejs-app">Set up the starter Node.js app</h1></a><p>Clone the starter repository:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">git clone https://github.com/planetscale/express-example.git</span></div></div></div></div></pre><p>Enter into the folder and install the dependencies with:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">cd express-example</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">npm install</span></div></div></div></div></pre><p>Now that your application is set up and the database is ready to be used, let&#x27;s connect them.</p><a class="text-primary" href="#connect-to-planetscale-with-expressjs"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="connect-to-planetscale-with-expressjs">Connect to PlanetScale with Express.js</h1></a><p>There are two ways to connect your Express application to your PlanetScale database: <strong>using client certificates</strong> or <strong>using a connection string</strong>. Both options are covered below.</p><a class="text-primary" href="#using-client-certificates-with-the-cli"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="using-client-certificates-with-the-cli">Using client certificates with the CLI</h1></a><p>Use the following command to create a connection to your database and start the application:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale connect &lt;DATABASE_NAME&gt; &lt;BRANCH_NAME&gt; --execute &#x27;node app.js&#x27;</span></div></div></div></div></pre><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">Running <code>pscale connect</code> with the execute flag will pass a <code>DATABASE_URL</code> to the Node application, enabling it to connect to PlanetScale. Don&#x27;t forget to look in <code>app.js</code> to see how the DATABASE_URL is used.</div></div><p>Navigate to <a href="http://localhost:3000">http://localhost:3000</a> and you&#x27;ll see the data from your <code>users</code> table!</p><a class="text-primary" href="#using-a-connection-string"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="using-a-connection-string">Using a connection string</h1></a><p>This section will show you how to create a username and password through the CLI to connect to your application. If you&#x27;d prefer to use the dashboard for this step, you can find those instructions in the <a href="/concepts/connection-strings#creating-a-password">Connection Strings documentation</a> and then come back here to finish setup.</p><p>First, create your <code>.env</code> file by renaming the <code>env.example</code> file to <code>.env</code>:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">mv env.example .env</span></div></div></div></div></pre><p>Next, using the PlanetScale CLI, create a new username and password for the branch of your database:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale password create &lt;DATABASE_NAME&gt; &lt;BRANCH_NAME&gt; &lt;PASSWORD_NAME&gt;</span></div></div></div></div></pre><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">The <code>PASSWORD_NAME</code> value represents the name of the username and password being generated. You can have multiple credentials for a branch, so this gives you a way to categorize them. To manage your passwords in the dashboard, go to your database overview page, click &quot;Settings&quot;, and then click &quot;Passwords&quot;.</div></div><p>Take note of the values returned to you, as you won&#x27;t be able to see this password again.</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">Password production-password was successfully created.</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">Please save the values below as they will not be shown again</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  NAME                  USERNAME       ACCESS HOST URL                     ROLE               PLAIN TEXT</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain"> --------------------- -------------- ----------------------------------- ------------------ -------------------------------------------------------</span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">  production-password   jp71f987awnod   gxvhbzcxfw01.us-east-2.psdb.cloud   Can Read &amp; Write   pscale_pw_sVkiE_mtfxQirc4qGZXMf098as90d8as0d98asd</span></div></div></div></div></pre><p>You&#x27;ll use these values to construct your connection string, which will be the value for <code>DATABASE_URL</code> in your <code>.env</code> file. Create your connection string in the following format:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">&quot;mysql://&lt;USERNAME&gt;:&lt;PLAIN TEXT PASSWORD&gt;@&lt;ACCESS HOST URL&gt;/&lt;DATABASE_NAME&gt;?ssl=true&quot;</span></div></div></div></div></pre><p>In the <code>.env</code> file, fill in the <code>DATABASE_URL</code> variable with the value you constructed. It should look something like this:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">DATABASE_URL=mysql://3e98edjddk:pscale_pw_wlksdjlkdc083892332jds@nd2298dss.us-east-3.psdb.cloud/express_database?ssl=true</span></div></div></div></div></pre><p>Finally, run your Express application with:</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">node app.js</span></div></div></div></div></pre><p>Navigate to <a href="http://localhost:3000">http://localhost:3000</a> and you&#x27;ll see the data from your <code>users</code> table!</p><a class="text-primary" href="#what&#x27;s-next?"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="what&#x27;s-next?">What&#x27;s next?</h1></a><p>Learn more about how PlanetScale allows you to make <a href="/concepts/nonblocking-schema-changes">non-blocking schema changes</a> to your database tables without locking or causing downtime for production databases. If you&#x27;re interested in learning how to secure your application when connecting to PlanetScale,
please read <a href="/reference/planetscale-security">Connecting to PlanetScale securely</a>.</p><a class="text-primary" href="#need-help?"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="need-help?">Need help?</h1></a><p>Get help from <a href="https://www.planetscale.com/support">PlanetScale&#x27;s support team</a>, or join our <a href="https://github.com/planetscale/beta/discussions">GitHub Discussion board</a> to see how others are using PlanetScale.</p></div><div class="flex items-center mt-4 mb-4"><strong class="mr-1">Was this page useful?</strong><button type="button" class="mr-1 box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary text-sm py-sm px-1">Yes</button><button type="button" class="box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary text-sm py-sm px-1">No</button></div><div class="flex flex-col sm:flex-row sm:items-center justify-between pb-4 border-b mb-4"><div class="text-secondary mb-1 sm:mb-0">Last updated on <!-- -->December<!-- --> <!-- -->25<!-- -->, <!-- -->2021</div><a href="https://github.com/chattycloud/docs/blob/main/content/docs/tutorials/connect-nodejs-app.mdx">Help us improve this page</a></div></div><div class="mt-4 flex items-center justify-between"><span><a class="mr-1.5 text-secondary hover:text-blue" href="https://www.chatty-cloud.com/legal/privacy">Privacy</a><a class="text-secondary hover:text-blue" href="https://www.chatty-cloud.com/legal/siteterms">Terms</a></span><span class="text-secondary">© 2021 ChattyCloud Inc.</span></div></div></div></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Connect a Node.js app","subtitle":""},"headings":[{"depth":2,"value":"Introduction"},{"depth":2,"value":"Prerequisites"},{"depth":2,"value":"Set up the database"},{"depth":2,"value":"Set up the starter Node.js app"},{"depth":2,"value":"Connect to PlanetScale with Express.js"},{"depth":3,"value":"Using client certificates with the CLI"},{"depth":3,"value":"Using a connection string"},{"depth":2,"value":"What's next?"},{"depth":2,"value":"Need help?"}],"body":{"compiledSource":"var d=Object.defineProperty,h=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var l=(a,t,n)=\u003et in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=\u003e{for(var n in t||(t={}))s.call(t,n)\u0026\u0026l(a,n,t[n]);if(r)for(var n of r(t))p.call(t,n)\u0026\u0026l(a,n,t[n]);return a},i=(a,t)=\u003eh(a,u(t));var c=(a,t)=\u003e{var n={};for(var o in a)s.call(a,o)\u0026\u0026t.indexOf(o)\u003c0\u0026\u0026(n[o]=a[o]);if(a!=null\u0026\u0026r)for(var o of r(a))t.indexOf(o)\u003c0\u0026\u0026p.call(a,o)\u0026\u0026(n[o]=a[o]);return n};const makeShortcode=a=\u003efunction(n){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},InfoBlock=makeShortcode(\"InfoBlock\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var o=n,{components:a}=o,t=c(o,[\"components\"]);return mdx(MDXLayout,i(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Introduction\"),mdx(\"p\",null,\"In this tutorial, you'll create a simple Node.js and Express.js application and connect it to a PlanetScale database.\"),mdx(\"h2\",null,\"Prerequisites\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://nodejs.org/en/download/\"}),\"Node.js\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/planetscale/cli\"}),\"PlanetScale CLI\")),mdx(\"li\",{parentName:\"ul\"},\"Authenticate the CLI with the following command:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale auth login\n`)),mdx(\"h2\",null,\"Set up the database\"),mdx(\"p\",null,\"First, create a new database with the following command:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`pscale database create \u003cDATABASE_NAME\u003e\n`)),mdx(\"p\",null,\"Next, let's add some data to the database. You'll create a new table called \",mdx(\"inlineCode\",{parentName:\"p\"},\"users\"),\" and add one record to it.\"),mdx(\"p\",null,\"To do this, use the PlanetScale CLI shell to open a MySQL shell where you can manipulate your database. You may need to \",mdx(\"a\",e({parentName:\"p\"},{href:\"/reference/planetscale-environment-setup\"}),\"install the MySQL command line client\"),\" if you haven't already.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`pscale shell \u003cDATABASE_NAME\u003e \u003cBRANCH_NAME\u003e\n`)),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"A branch, \",mdx(\"inlineCode\",null,\"main\"),\", was automatically created when you created your database, so you can use that for \",mdx(\"inlineCode\",null,\"BRANCH_NAME\"),\".\"),mdx(\"p\",null,\"Create the \",mdx(\"inlineCode\",{parentName:\"p\"},\"users\"),\" table:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sql\"}),\"CREATE TABLE `users` (\\n  `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\\n  `email` varchar(255) NOT NULL,\\n  `first_name` varchar(255),\\n  `last_name` varchar(255)\\n);\\n\")),mdx(\"p\",null,\"Then, add a record to it with:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sql\"}),\"INSERT INTO `users` (id, email, first_name, last_name)\\nVALUES  (1, 'hp@example.com', 'Harry', 'Potter');\\n\")),mdx(\"p\",null,\"You can verify it was added with:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sql\"}),`select * from users;\n`)),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`+----+----------------+------------+-----------+\n| id | email          | first_name | last_name |\n+----+----------------+------------+-----------+\n|  1 | hp@example.com | Harry      | Potter    |\n+----+----------------+------------+-----------+\n`)),mdx(\"p\",null,\"Next, you'll set up the Express starter application.\"),mdx(\"h2\",null,\"Set up the starter Node.js app\"),mdx(\"p\",null,\"Clone the starter repository:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`git clone https://github.com/planetscale/express-example.git\n`)),mdx(\"p\",null,\"Enter into the folder and install the dependencies with:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`cd express-example\nnpm install\n`)),mdx(\"p\",null,\"Now that your application is set up and the database is ready to be used, let's connect them.\"),mdx(\"h2\",null,\"Connect to PlanetScale with Express.js\"),mdx(\"p\",null,\"There are two ways to connect your Express application to your PlanetScale database: \",mdx(\"strong\",{parentName:\"p\"},\"using client certificates\"),\" or \",mdx(\"strong\",{parentName:\"p\"},\"using a connection string\"),\". Both options are covered below.\"),mdx(\"h3\",null,\"Using client certificates with the CLI\"),mdx(\"p\",null,\"Use the following command to create a connection to your database and start the application:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale connect \u003cDATABASE_NAME\u003e \u003cBRANCH_NAME\u003e --execute 'node app.js'\n`)),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"Running \",mdx(\"inlineCode\",null,\"pscale connect\"),\" with the execute flag will pass a \",mdx(\"inlineCode\",null,\"DATABASE_URL\"),\" to the Node application, enabling it to connect to PlanetScale. Don't forget to look in \",mdx(\"inlineCode\",null,\"app.js\"),\" to see how the DATABASE_URL is used.\"),mdx(\"p\",null,\"Navigate to \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://localhost:3000\"}),\"http://localhost:3000\"),\" and you'll see the data from your \",mdx(\"inlineCode\",{parentName:\"p\"},\"users\"),\" table!\"),mdx(\"h3\",null,\"Using a connection string\"),mdx(\"p\",null,\"This section will show you how to create a username and password through the CLI to connect to your application. If you'd prefer to use the dashboard for this step, you can find those instructions in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/concepts/connection-strings#creating-a-password\"}),\"Connection Strings documentation\"),\" and then come back here to finish setup.\"),mdx(\"p\",null,\"First, create your \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file by renaming the \",mdx(\"inlineCode\",{parentName:\"p\"},\"env.example\"),\" file to \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`mv env.example .env\n`)),mdx(\"p\",null,\"Next, using the PlanetScale CLI, create a new username and password for the branch of your database:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`pscale password create \u003cDATABASE_NAME\u003e \u003cBRANCH_NAME\u003e \u003cPASSWORD_NAME\u003e\n`)),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"The \",mdx(\"inlineCode\",null,\"PASSWORD_NAME\"),' value represents the name of the username and password being generated. You can have multiple credentials for a branch, so this gives you a way to categorize them. To manage your passwords in the dashboard, go to your database overview page, click \"Settings\", and then click \"Passwords\".'),mdx(\"p\",null,\"Take note of the values returned to you, as you won't be able to see this password again.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`Password production-password was successfully created.\nPlease save the values below as they will not be shown again\n\n  NAME                  USERNAME       ACCESS HOST URL                     ROLE               PLAIN TEXT\n --------------------- -------------- ----------------------------------- ------------------ -------------------------------------------------------\n  production-password   jp71f987awnod   gxvhbzcxfw01.us-east-2.psdb.cloud   Can Read \u0026 Write   pscale_pw_sVkiE_mtfxQirc4qGZXMf098as90d8as0d98asd\n`)),mdx(\"p\",null,\"You'll use these values to construct your connection string, which will be the value for \",mdx(\"inlineCode\",{parentName:\"p\"},\"DATABASE_URL\"),\" in your \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file. Create your connection string in the following format:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`\"mysql://\u003cUSERNAME\u003e:\u003cPLAIN TEXT PASSWORD\u003e@\u003cACCESS HOST URL\u003e/\u003cDATABASE_NAME\u003e?ssl=true\"\n`)),mdx(\"p\",null,\"In the \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file, fill in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"DATABASE_URL\"),\" variable with the value you constructed. It should look something like this:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-env\"}),`DATABASE_URL=mysql://3e98edjddk:pscale_pw_wlksdjlkdc083892332jds@nd2298dss.us-east-3.psdb.cloud/express_database?ssl=true\n`)),mdx(\"p\",null,\"Finally, run your Express application with:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`node app.js\n`)),mdx(\"p\",null,\"Navigate to \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://localhost:3000\"}),\"http://localhost:3000\"),\" and you'll see the data from your \",mdx(\"inlineCode\",{parentName:\"p\"},\"users\"),\" table!\"),mdx(\"h2\",null,\"What's next?\"),mdx(\"p\",null,\"Learn more about how PlanetScale allows you to make \",mdx(\"a\",e({parentName:\"p\"},{href:\"/concepts/nonblocking-schema-changes\"}),\"non-blocking schema changes\"),` to your database tables without locking or causing downtime for production databases. If you're interested in learning how to secure your application when connecting to PlanetScale,\nplease read `,mdx(\"a\",e({parentName:\"p\"},{href:\"/reference/planetscale-security\"}),\"Connecting to PlanetScale securely\"),\".\"),mdx(\"h2\",null,\"Need help?\"),mdx(\"p\",null,\"Get help from \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.planetscale.com/support\"}),\"PlanetScale's support team\"),\", or join our \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/planetscale/beta/discussions\"}),\"GitHub Discussion board\"),\" to see how others are using PlanetScale.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"fields":{"slug":"tutorials/connect-nodejs-app","lastUpdatedOn":"2021-12-25T02:34:05.644Z"}},"__N_SSG":true},"page":"/[category]/[post]","query":{"category":"tutorials","post":"connect-nodejs-app"},"buildId":"-s0dJXBYWF7LmYhpsQySm","assetPrefix":"/docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>