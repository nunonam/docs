{"pageProps":{"frontmatter":{"title":"Service tokens","subtitle":"Create service tokens for your PlanetScale organization."},"headings":[{"depth":2,"value":"Service tokens"},{"depth":2,"value":"Create service tokens using the PlanetScale UI"},{"depth":3,"value":"Create a new service token"},{"depth":3,"value":"Add database access permissions"},{"depth":3,"value":"Manage database access permissions"},{"depth":3,"value":"Delete a service token"},{"depth":2,"value":"Create service tokens using the PlanetScale CLI"},{"depth":3,"value":"Create a new service token"},{"depth":3,"value":"Add database access permissions"},{"depth":3,"value":"Remove database access permissions"},{"depth":3,"value":"Delete a service token"}],"body":{"compiledSource":"var d=Object.defineProperty,m=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var c=(e,o,t)=>o in e?d(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,a=(e,o)=>{for(var t in o||(o={}))i.call(o,t)&&c(e,t,o[t]);if(s)for(var t of s(o))r.call(o,t)&&c(e,t,o[t]);return e},l=(e,o)=>m(e,h(o));var p=(e,o)=>{var t={};for(var n in e)i.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&s)for(var n of s(e))o.indexOf(n)<0&&r.call(e,n)&&(t[n]=e[n]);return t};const makeShortcode=e=>function(t){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},t))},InfoBlock=makeShortcode(\"InfoBlock\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var n=t,{components:e}=n,o=p(n,[\"components\"]);return mdx(MDXLayout,l(a(a({},layoutProps),o),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Service tokens\"),mdx(\"p\",null,\"PlanetScale provides the ability to create service tokens for your PlanetScale organization via the CLI or directly in the UI.\"),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"Service tokens are not recommended for connecting to production databases. Instead, connect securely to your database using PlanetScale's \",mdx(\"a\",{href:\"https://docs.planetscale.com/concepts/connection-strings\"},\"connection strings\"),\".\"),mdx(\"h2\",null,\"Create service tokens using the PlanetScale UI\"),mdx(\"h3\",null,\"Create a new service token\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Go to your organization settings page for service tokens: \",mdx(\"inlineCode\",{parentName:\"li\"},\"app.planetscale.com/<org>/settings/service-tokens\"))),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"/img/docs/servicetokens-settings-overview.png\",alt:\"Service token settings page\"}))),mdx(\"ol\",a({},{start:2}),mdx(\"li\",{parentName:\"ol\"},'Click on the \"New service token\" button')),mdx(\"p\",null,\"This will open a pop-up modal that prompts you to name the service token.\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"/img/docs/servicetokens-create-modal.png\",alt:\"New service token pop-up modal\"}))),mdx(\"ol\",a({},{start:3}),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},'Once you have provided a name for the service token, click \"Create service token\" to finish creating the token.')),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Copy the token value from the UI.\"))),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"/img/docs/servicetokens-token-detail.png\",alt:\"Service token detail page\"}))),mdx(\"p\",null,\"You will need both the token ID and the token value to connect to your databases.\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{}),`PLANETSCALE_SERVICE_TOKEN_NAME=your-token-id\nPLANETSCALE_SERVICE_TOKEN=your-token-value\n`)),mdx(InfoBlock,{type:\"tip\",mdxType:\"InfoBlock\"},\"Be sure to copy the service token after you create it. There's no way to retrieve the token value once you leave this page.\"),mdx(\"h3\",null,\"Add database access permissions\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},'Click \"Add database access\" to select the database access permissions for the token.')),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"/img/docs/servicetokens-database-access-permissions.png\",alt:\"Database access permissions pop-up modal\"}))),mdx(\"p\",null,\"For each database you add, you have the ability to select from the following permissions:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"create_branch\"),mdx(\"li\",{parentName:\"ul\"},\"read_branch\"),mdx(\"li\",{parentName:\"ul\"},\"delete_branch\"),mdx(\"li\",{parentName:\"ul\"},\"connect_branch\"),mdx(\"li\",{parentName:\"ul\"},\"connect_production_branch\")),mdx(\"p\",null,\"A complete list of service token access permissions can be found \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.planetscale.com/reference/planetscale-cli#service-tokens-in-organizations\"}),\"here\"),\".\"),mdx(\"ol\",a({},{start:2}),mdx(\"li\",{parentName:\"ol\"},'Once you have selected the access permissions, click \"Save permissions\" to save your selection.')),mdx(\"p\",null,'You can add access to another database in your organization by clicking on the \"Add database access\" a second time.'),mdx(\"h3\",null,\"Manage database access permissions\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Go to the service tokens page for your organization: \",mdx(\"inlineCode\",{parentName:\"li\"},\"app.planetscale.com/<org>/settings/service-tokens\")),mdx(\"li\",{parentName:\"ol\"},\"Click on the service token ID for the service token you would like to update.\"),mdx(\"li\",{parentName:\"ol\"},'Click on the blue link \"Manage permissions\" underneath the database name and permissions to add or remove access permissions.')),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"/img/docs/servicetokens-database-access.png\",alt:\"Manage Permissions\"}))),mdx(\"ol\",a({},{start:4}),mdx(\"li\",{parentName:\"ol\"},'Adjust the permissions in the pop-up modal and then click \"Save permissions\" to update the database access permissions.')),mdx(\"p\",null,'To remove all access permissions for a database, click on the \"Remove Access\" button associated with the database you would like to remove. Click \"delete\" to remove all access for the database.'),mdx(\"h3\",null,\"Delete a service token\"),mdx(\"p\",null,\"You can delete a service token at any time from the service token detail page.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Go to the service tokens page for your organization: \",mdx(\"inlineCode\",{parentName:\"li\"},\"app.planetscale.com/<org>/settings/service-tokens\")),mdx(\"li\",{parentName:\"ol\"},\"Click on the service token ID for the service token you would like to delete.\"),mdx(\"li\",{parentName:\"ol\"},'Click on the \"Delete service token\" button in the upper right hand corner.'),mdx(\"li\",{parentName:\"ol\"},'Confirm deletion by clicking the \"Delete\" button in the pop-up modal.')),mdx(\"p\",null,\"Deleting a service token will sever any database connections that use the given service token.\"),mdx(\"h2\",null,\"Create service tokens using the PlanetScale CLI\"),mdx(\"p\",null,\"Use the PlanetScale CLI to create and manage service tokens for your PlanetScale organization.\"),mdx(\"h3\",null,\"Create a new service token\"),mdx(\"p\",null,\"Use the following command to create a service token:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{}),`pscale service-token create\n`)),mdx(\"p\",null,\"This command will return a service token name and value for your use.\"),mdx(\"h3\",null,\"Add database access permissions\"),mdx(\"p\",null,\"You can add database access permissions to your service token for each database in your organization.\"),mdx(\"p\",null,\"To add database access permissions, use the command:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{}),`pscale service-token add-access <token id> <access permission> --database <database name>\n`)),mdx(\"p\",null,\"For example, to give a service token the ability to create, read, and delete branches on a specific database, use the following command:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{}),`pscale service-token add-access <token id> read_branch delete_branch create_branch --database <database name>\n`)),mdx(\"p\",null,\"A complete list of service token access permissions can be found \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.planetscale.com/reference/planetscale-cli#service-tokens-in-organizations\"}),\"here\"),\".\"),mdx(\"h3\",null,\"Remove database access permissions\"),mdx(\"p\",null,\"You can also remove database access permissions for a service token.\"),mdx(\"p\",null,\"Use the following command to remove one or more permissions:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{}),`pscale service-token delete-access <token id> <access permission> --database <database name>\n`)),mdx(\"h3\",null,\"Delete a service token\"),mdx(\"p\",null,\"To delete a service token, run the following command:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{}),`pscale service-token delete <token id>\n`)),mdx(\"p\",null,\"Deleting a service token will sever any database connections that use the given service token.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"fields":{"slug":"reference/service-tokens","lastUpdatedOn":"2021-12-25T02:12:47.052Z"}},"__N_SSG":true}