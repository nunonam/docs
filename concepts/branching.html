<!DOCTYPE html><html lang="en"><head><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="#262626" name="theme-color"/><link rel="mask-icon" href="/favicon.svg" color="#262626"/><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="gURNntij37hKxpSUjda9znzNaOxZBG6H";;analytics.SNIPPET_VERSION="4.15.3";
analytics.load("gURNntij37hKxpSUjda9znzNaOxZBG6H");
analytics.page();
}}();</script><link rel="preload" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" as="style"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement;d.classList.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d.classList.add('dark')}else{d.style.colorScheme = 'light';d.classList.add('light')}}else if(e){d.classList.add(e|| '')}else{d.classList.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><link rel="shortcut icon" href="/favicon_system.svg" sizes="any" type="image/svg+xml"/><title>Branching - Documentation - ChattyCloud</title><meta name="msapplication-TileColor" content="#da532c"/><meta name="description" content="Create a development or staging environment for your database through branches"/><meta property="og:url" content="https://docs.chatty-cloud.com/concepts/branching"/><meta property="og:image" content="https://docs.chatty-cloud.com//img/internals/social_share.png"/><meta property="og:type" content="website"/><meta property="og:title" content="Branching - Documentation - ChattyCloud"/><meta property="og:description" content="Create a development or staging environment for your database through branches"/><meta name="twitter:url" content="https://docs.chatty-cloud.com/concepts/branching"/><meta name="twitter:image" content="https://docs.chatty-cloud.com//img/internals/social_share.png"/><meta name="twitter:title" content="Branching - Documentation - ChattyCloud"/><meta name="twitter:description" content="Create a development or staging environment for your database through branches"/><script type="application/ld+json">{&quot;@context&quot;:&quot;http://schema.org&quot;,&quot;@type&quot;:&quot;Organization&quot;,&quot;name&quot;:&quot;ChattyCloud, Inc.&quot;,&quot;url&quot;:&quot;https://docs.chatty-cloud.com&quot;,&quot;sameAs&quot;:[&quot;https://twitter.com/&quot;],&quot;address&quot;:{&quot;@type&quot;:&quot;PostalAddress&quot;,&quot;streetAddress&quot;:&quot;321 Castro St #200&quot;,&quot;addressLocality&quot;:&quot;Mountain View&quot;,&quot;addressRegion&quot;:&quot;CA&quot;,&quot;postalCode&quot;:&quot;94041&quot;,&quot;addressCountry&quot;:&quot;US&quot;}}</script><meta name="next-head-count" content="18"/><link rel="preload" href="/docs/_next/static/css/d19452855f080e47.css" as="style"/><link rel="stylesheet" href="/docs/_next/static/css/d19452855f080e47.css" data-n-g=""/><link rel="preload" href="/docs/_next/static/css/6ed6fc696efb435c.css" as="style"/><link rel="stylesheet" href="/docs/_next/static/css/6ed6fc696efb435c.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/docs/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/docs/_next/static/chunks/webpack-21775410f7f02689.js" defer=""></script><script src="/docs/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/docs/_next/static/chunks/main-d78ee85becc0fade.js" defer=""></script><script src="/docs/_next/static/chunks/pages/_app-4f84c90584aacdb0.js" defer=""></script><script src="/docs/_next/static/chunks/217-13521f692b432699.js" defer=""></script><script src="/docs/_next/static/chunks/228-546d180dcfb89379.js" defer=""></script><script src="/docs/_next/static/chunks/476-dd807cdaa38948ef.js" defer=""></script><script src="/docs/_next/static/chunks/pages/%5Bcategory%5D/%5Bpost%5D-0dfa5a716bfbcb43.js" defer=""></script><script src="/docs/_next/static/ffRgkaqinJ87gnfSh8k4z/_buildManifest.js" defer=""></script><script src="/docs/_next/static/ffRgkaqinJ87gnfSh8k4z/_ssgManifest.js" defer=""></script><script src="/docs/_next/static/ffRgkaqinJ87gnfSh8k4z/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="h-full"><div class="flex flex-col mx-auto bg-primary text-primary"><a href="#content" class="absolute z-50 px-2 py-1 border-b border-r rounded-br -ml-96 focus:ml-0 bg-secondary">Skip to content</a><div class="relative z-40 w-full py-3 mx-auto border-b bg-primary text-primary"><div class="md:hidden duration-300 fixed z-30 inset-0 transition-opacity opacity-0 pointer-events-none" aria-hidden="true"><div class="absolute inset-0 bg-primary"></div></div><header class="relative z-50 grid items-center grid-cols-2 px-3 mx-auto md:grid-cols-3 md:grid-rows-1 max-w-7xl sm:px-6 lg:px-8"><div class="flex items-center col-start-1 row-start-1"><a class="rounded text-primary" aria-label="Go to documentation homepage" href="https://chatty-cloud.com"><svg width="41" height="32" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 41 32"><path d="M106.967+511.808C106.967+423.665+178.421+352.211+266.564+352.211C354.708+352.211+426.162+423.665+426.162+511.808C426.162+599.951+354.708+671.406+266.564+671.406C178.421+671.406+106.967+599.951+106.967+511.808Z" fill="currentColor"></path></svg></a><div class="flex items-center lg:text-lg font-medium pl-1.5"><a class="text-primary" href="/docs">Documentation</a></div></div><div class="col-start-1 col-span-2 md:col-span-1 pt-3 md:pt-0 row-start-3 md:col-start-2 md:row-start-1 md:flex hidden"><input type="search" class="w-full leading-[1.5rem] px-1.5 rounded ring-offset-0 border shadow-sm text-base py-sm focus-ring bg-secondary text-primary border-secondary" id="searchbox" placeholder="Search documentation"/></div><div class="col-start-1 col-span-2 md:col-span-1 row-start-2 pt-5 md:pt-0 md:row-start-1 md:col-start-3 md:justify-end md:flex hidden"><a href="https://dashboard.chatty-cloud.com" class="mr-2 box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary h-button py-1.5 px-2">dashboard</a></div><div class="relative z-50 flex justify-end col-start-2 row-start-1 align-center md:hidden"><button aria-label="Open navigation menu" class="flex appearance-none focus:outline-none"><span class="HamburgerMenu_menuWrapper__TCSWe" data-open="false"><span class="HamburgerMenu_menu__fxUil"></span></span></button></div></header><div class="relative z-40 w-full px-3 pt-3 sm:px-6 lg:px-8 sm:w-1/2 md:hidden hidden"><div class="mb-3"><strong class="block mb-1">Quick Start</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/chattycloud-workflow">ChattyCloud workflow</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary bg-secondary !text-primary font-medium" href="/docs/concepts/branching">Branching</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/connection-strings">Connection strings</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/database-imports">Database imports</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/regions">Regions</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/web-console">Web console</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/authentication-methods">Authentication methods</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/mfa">Multi-factor authentication</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/sso">Single sign-on</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security">Security &amp; Compliance</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/access-control">Access control</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/audit-log">Audit log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security-log">Security log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/query-statistics">Query statistics</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/billing">Billing</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/back-up-and-restore">Back up and restore</a></span></div><div class="mb-3"><strong class="block mb-1">Tutorials</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/chattycloud-quick-start-guide">ChattyCloud quick start guide</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-any-application">Connect any app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-rails-app">Connect a Rails app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-nodejs-app">Connect a Node.js app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/nextjs-chattycloud-netlify-template">Next.js and Netlify Template</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/deploy-to-vercel">Deploy to Vercel</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/prisma-data-platform-integration">Prisma Data Platform integration</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-rails-migrations">Automatic Rails migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-prisma-migrations">Automatic Prisma migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/change-unique-key">Change single unique key</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/operating-without-foreign-keys">Operating without FK constraints</a></span></div><div class="mb-3"><strong class="block mb-1">Reference</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-environment-setup">ChattyCloud environment set up</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-cli">ChattyCloud CLI</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/secure-connections">Secure connections</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/service-tokens">Service tokens</a></span></div><div class="flex items-stretch shadow-sm rounded text-primary inline-flex"><label class="flex items-center px-1.5 mb-0 font-medium border-t border-b border-l rounded-l bg-secondary border-secondary whitespace-nowrap text-sm py-1 h-button-sm">Theme</label><select class="inline-block pl-1.5 pr-4 py-0 border rounded shadow-sm bg-primary border-secondary focus-ring h-button-sm text-sm block w-full pl-2 rounded-l-none rounded-r !shadow-none"><option value="light">Light</option><option value="dark">Dark</option><option value="system">System</option></select></div></div></div><main class="flex flex-col flex-1 w-full px-3 py-4 mx-auto bg-primary md:py-8 max-w-7xl sm:px-6 lg:px-8"><div class="flex flex-col h-full md:flex-row"><div class="flex-shrink-0 hidden w-full md:block md:w-1/3 md:pr-4 lg:pr-8 xl:pr-12"><div class="mb-3"><strong class="block mb-1">Quick Start</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/chattycloud-workflow">ChattyCloud workflow</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary bg-secondary !text-primary font-medium" href="/docs/concepts/branching">Branching</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/connection-strings">Connection strings</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/database-imports">Database imports</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/regions">Regions</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/web-console">Web console</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/authentication-methods">Authentication methods</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/mfa">Multi-factor authentication</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/sso">Single sign-on</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security">Security &amp; Compliance</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/access-control">Access control</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/audit-log">Audit log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/security-log">Security log</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/query-statistics">Query statistics</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/billing">Billing</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/concepts/back-up-and-restore">Back up and restore</a></span></div><div class="mb-3"><strong class="block mb-1">Tutorials</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/chattycloud-quick-start-guide">ChattyCloud quick start guide</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-any-application">Connect any app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-rails-app">Connect a Rails app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/connect-nodejs-app">Connect a Node.js app</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/nextjs-chattycloud-netlify-template">Next.js and Netlify Template</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/deploy-to-vercel">Deploy to Vercel</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/prisma-data-platform-integration">Prisma Data Platform integration</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-rails-migrations">Automatic Rails migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/automatic-prisma-migrations">Automatic Prisma migrations</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/change-unique-key">Change single unique key</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/tutorials/operating-without-foreign-keys">Operating without FK constraints</a></span></div><div class="mb-3"><strong class="block mb-1">Reference</strong><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-environment-setup">ChattyCloud environment set up</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/chattycloud-cli">ChattyCloud CLI</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/secure-connections">Secure connections</a></span><span class="block -ml-1.5"><a class="px-1.5 rounded-sm block leading-loose py-0.5 text-secondary hover:text-primary hover:bg-secondary" href="/docs/reference/service-tokens">Service tokens</a></span></div><div class="flex items-stretch shadow-sm rounded text-primary inline-flex"><label class="flex items-center px-1.5 mb-0 font-medium border-t border-b border-l rounded-l bg-secondary border-secondary whitespace-nowrap text-sm py-1 h-button-sm">Theme</label><select class="inline-block pl-1.5 pr-4 py-0 border rounded shadow-sm bg-primary border-secondary focus-ring h-button-sm text-sm block w-full pl-2 rounded-l-none rounded-r !shadow-none"><option value="light">Light</option><option value="dark">Dark</option><option value="system">System</option></select></div></div><div class="relative flex-1 min-w-0"><div class="mdx-content"><div class="mb-4"><h1 class="mb-1 text-4xl font-semibold">Branching</h1><p class="text-xl text-secondary">Create a development or staging environment for your database through branches</p></div><div><a class="text-primary" href="#overview"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="overview">Overview</h1></a><p>PlanetScale allows you to branch databases schemas the way you branch your code. </p><p>Development database branches are isolated copies of your database created with the current production schema. They can be used to develop features and test changes without impacting your production database. When you&#x27;re ready, schema changes on a development branch can be safely applied to the production database using PlanetScale’s <a href="https://docs.planetscale.com/concepts/nonblocking-schema-changes">non-blocking schema change workflow</a>. This workflow ensures that your changes are deployed without blocking the database, locking individual tables, or slowing down production during the migration.</p><p><span class="block mt-3"><img src="/img/docs/ps_branching_diagram_light.png" alt="PlanetScale Branching Flow Diagram" class="max-h-[600px] mx-auto"/><span class="block mt-1 mb-4 text-sm text-center text-secondary">PlanetScale Branching Flow Diagram</span></span></p><a class="text-primary" href="#development-and-production-branches"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="development-and-production-branches">Development and production branches</h1></a><p>PlanetScale provides two types of database branches, <em>development</em> branches and <em>production</em> branches.</p><p>Development branches provide isolated copies of your production database schema where you can make changes, experiment, or run CI.</p><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">Data from the main database is not copied to development branches.</div></div><p>Production branches are highly available databases intended for production traffic. They are protected from direct schema changes by default and include automated daily backups.</p><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-purple-50 dark:bg-purple-900 border-purple-100 dark:border-purple-800"> <!-- --> <strong>Tip</strong><div class="mt-1 info-block">You&#x27;ll see a <code>ERROR 1105 (HY000): direct DDL is disabled</code> message if you attempt schema changes in a production branch. Create a development branch and start your changes there.</div></div><a class="text-primary" href="#branch-promotion"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="branch-promotion">Branch promotion</h1></a><p>PlanetScale provides the ability to promote any development branch with a valid schema to production. Promoting a branch to production will require future schema changes to be made via a deploy request and will engage any custom backup schedules you have configured for production branches in addition to the automatic daily backups.</p><a class="text-primary" href="#promote-the-main-database-branch"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="promote-the-main-database-branch">Promote the main database branch</h1></a><p>Every PlanetScale database is created with a development branch named <code>main</code>.</p><p>This allows you to apply a schema directly to this branch, import data, and experiment with your database before promoting the branch to production. </p><p>Once you are satisfied with the changes you have made to your <code>main</code> branch, you can promote the <code>main</code> branch to production. </p><p>A branch can be promoted from the branch overview page in the PlanetScale app or you can use the command below to promote a branch using the <a href="https://docs.planetscale.com/reference/planetscale-cli">PlanetScale CLI</a>. </p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale branch promote &lt;database&gt; &lt;branch&gt;</span></div></div></div></div></pre><a class="text-primary" href="#promote-any-development-branch"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="promote-any-development-branch">Promote any development branch</h1></a><p>Any PlanetScale development branch can be promoted to production. It&#x27;s possible to run multiple production branches simultaneously, however it&#x27;s important to note that PlanetScale does not provide data syncing between production branches.</p><p>You can promote any development branch from the given branch overview page, or from the command line with <code>pscale</code>. </p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale branch promote &lt;database&gt; &lt;branch&gt;</span></div></div></div></div></pre><a class="text-primary" href="#create-a-development-branch"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="create-a-development-branch">Create a development branch</h1></a><p>You can create a development branch from any production branch. Create a branch from the production branch overview page <code>app.planetscale.com/&lt;organization&gt;/&lt;database&gt;/&lt;branch&gt;</code> or use the command below.</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale branch create &lt;database&gt; &lt;branch&gt;</span></div></div></div></div></pre><a class="text-primary" href="#deploy-a-branch"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="deploy-a-branch">Deploy a branch</h1></a><p>Once you are satisfied with the schema changes you have made on a branch, you can deploy your changes to production. </p><a class="text-primary" href="#create-a-deploy-request"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="create-a-deploy-request">Create a deploy request</h1></a><p>The first step is to create a deploy request. If you are working in a team, the deploy request creates an opportunity for your teammates to review the changes you have made before they are deployed to production. </p><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">Administrators can require approval for deploy requests in the database&#x27;s Settings tab.</div></div><p>Create a deploy request from the branch overview page <code>app.planetscale.com/&lt;organization&gt;/&lt;database&gt;/&lt;branch&gt;</code> or run the command below using the CLI.</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale deploy-request create &lt;database&gt; &lt;branch&gt;</span></div></div></div></div></pre><a class="text-primary" href="#review-the-schema-diff"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="review-the-schema-diff">Review the schema diff</h1></a><p>The deploy request includes a schema diff that allows you to review the schema changes introduced by the deploy request. View the schema diff in the Schema tab in the PlanetScale app. </p><p>You can also run the command below to see the schema diff in the CLI. </p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale deploy-request diff &lt;database&gt; &lt;deploy-request-number&gt;</span></div></div></div></div></pre><a class="text-primary" href="#add-changes-to-the-deploy-queue"><h1 class="font-semibold text-lg mb-2 mt-3" as="h3" id="add-changes-to-the-deploy-queue">Add changes to the deploy queue</h1></a><p>Once a deploy request has been created (and approved, if required), you will need to add the changes to the deploy queue. Schema changes are deployed to a database in the order in which they are received. PlanetScale analyzes the schema changes in a deploy request when they are added to the deploy queue to ensure that the changes do not conflict with any of the queued schema changes. </p><p>To add a deploy request to the deploy queue click on the button “Add changes to the deploy queue” on the deploy request page. </p><p>Alternatively, you can run the following command. </p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale deploy-request deploy &lt;database&gt; &lt;deploy-request-number&gt;</span></div></div></div></div></pre><p>PlanetScale provides insight on the deploy queue, listing all of the schema changes in the queue with their completion status. </p><p><span class="block mt-3"><img src="/img/docs/branching-deploy-queue.png" alt="Deploy queue" class="max-h-[600px] mx-auto"/><span class="block mt-1 mb-4 text-sm text-center text-secondary">Deploy queue</span></span></p><a class="text-primary" href="#set-a-default-branch"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="set-a-default-branch">Set a default branch</h1></a><p>Each PlanetScale database with a production branch has a default branch that cannot be deleted. </p><p>The first database branch that gets promoted to production is automatically set as the default branch for your database. </p><p>However, this can be updated in the database Settings tab. Use the default branch dropdown menu to select the branch you would to set as default and click the Save database settings button to save your changes. </p><a class="text-primary" href="#delete-a-branch"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="delete-a-branch">Delete a branch</h1></a><p>You can delete your branch either from the branches overview page <code>app.planetscale.com/&lt;organization&gt;/&lt;database&gt;/branches</code> or run the following command in the CLI.</p><pre><div class="max-w-full mt-2 mb-4 border rounded"><div class="flex items-center justify-between px-2 border-b rounded-t py-sm bg-secondary"><span class="font-sans text-secondary"></span><div class="relative inline-flex"><button aria-label="Copy snippet" title="Copy snippet" type="button" class="undefined h-[32px] h-button px-1 focus-visible-ring"></button><div class="font-sans pointer-events-none transition absolute z-10 px-1 text-white font-semibold dark:bg-gray-50 dark:text-gray-900 text-sm transform -translate-x-1/2 bg-gray-900 rounded shadow-lg py-sm left-1/2 top-1/2 opacity-0">Copied</div></div></div><div class="w-full p-2 overflow-x-auto"><div><div class="token-line" style="color:#9a86fd"><span class="token plain">pscale branch delete &lt;database&gt; &lt;branch&gt;</span></div></div></div></div></pre><p>We recommend deleting your branch once you have used it to merge a schema change, or if you are no longer using the branch for testing. You can always create a new branch from your production database. </p><div class="my-4 border mb-3 px-3 py-2.5 rounded bg-blue-50 dark:bg-blue-900 border-blue-100 dark:border-blue-800"><strong>Note</strong> <!-- --> <div class="mt-1 info-block">Only organization administrators have permission to delete production branches.</div></div><a class="text-primary" href="#resolve-a-schema-conflict"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="resolve-a-schema-conflict">Resolve a schema conflict</h1></a><p>Schema conflicts occur when your development branch has conflicting changes with the production branch. </p><p>To resolve a schema conflict, create a new branch, which will have the most up-to-date schema, and apply the necesary schema changes to the new branch before repeating the deploy process. </p><a class="text-primary" href="#automatically-copy-migration-data"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="automatically-copy-migration-data">Automatically copy migration data</h1></a><p>Many frameworks and migration tools keep track of data schema changes in a migration table. When turned on, PlanetScale will automatically copy migration table metadata from your <code>development</code> branch to the <code>main</code> branch as part of our deployment process.</p><p>To turn on for your database, go to the web app:</p><ol><li>Go into the Settings for your database</li><li>Enable &quot;Automatically copy migration data&quot;</li><li>Select one of the migration frameworks: Rails/Phoenix, Django, .NET, Prisma, Sequelize, or Other, which allows you to specify a custom table name</li></ol><p>You can see how this works in this <a href="/tutorial/automatic-rails-migrations">Rails migration tutorial</a>.</p><a class="text-primary" href="#need-help?"><h1 class="font-semibold text-xl mb-2 mt-3" as="h2" id="need-help?">Need help?</h1></a><p>Get help from <a href="https://www.planetscale.com/support">PlanetScale&#x27;s support team</a>, or join our <a href="https://github.com/planetscale/beta/discussions">GitHub discussion board</a> to see how others are using PlanetScale.</p><div class="bg-secondary px-3 pt-2 rounded border mt-4 mb-4"><h1 class="font-semibold mb-1">Next steps</h1><ul class="list-disc list-inside"><li class="py-sm"><a class="font-medium" href="/docs/concepts/nonblocking-schema-changes">Non-blocking schema changes</a></li><li class="py-sm"><a class="font-medium" href="/docs/concepts/regions">Regions</a></li></ul></div></div><div class="flex items-center mt-4 mb-4"><strong class="mr-1">Was this page useful?</strong><button type="button" class="mr-1 box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary text-sm py-sm px-1">Yes</button><button type="button" class="box-border relative inline-flex items-center justify-center text-center no-underline leading-none whitespace-nowrap font-semibold rounded flex-shrink-0 transition select-none overflow-hidden focus-ring text-primary hover:bg-secondary focus:border-blue-500 border border-gray-200 dark:border-gray-600 bg-primary text-sm py-sm px-1">No</button></div><div class="flex flex-col sm:flex-row sm:items-center justify-between pb-4 border-b mb-4"><div class="text-secondary mb-1 sm:mb-0">Last updated on <!-- -->December<!-- --> <!-- -->25<!-- -->, <!-- -->2021</div><a href="https://github.com/chattycloud/docs/blob/main/content/docs/concepts/branching.mdx">Help us improve this page</a></div></div><div class="mt-4 flex items-center justify-between"><span><a class="mr-1.5 text-secondary hover:text-blue" href="https://www.chatty-cloud.com/legal/privacy">Privacy</a><a class="text-secondary hover:text-blue" href="https://www.chatty-cloud.com/legal/siteterms">Terms</a></span><span class="text-secondary">© 2021 ChattyCloud Inc.</span></div></div></div></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Branching","subtitle":"Create a development or staging environment for your database through branches"},"headings":[{"depth":2,"value":"Overview"},{"depth":2,"value":"Development and production branches"},{"depth":2,"value":"Branch promotion "},{"depth":3,"value":"Promote the main database branch"},{"depth":3,"value":"Promote any development branch"},{"depth":2,"value":"Create a development branch"},{"depth":2,"value":"Deploy a branch"},{"depth":3,"value":"Create a deploy request"},{"depth":3,"value":"Review the schema diff "},{"depth":3,"value":"Add changes to the deploy queue"},{"depth":2,"value":"Set a default branch"},{"depth":2,"value":"Delete a branch"},{"depth":2,"value":"Resolve a schema conflict"},{"depth":2,"value":"Automatically copy migration data"},{"depth":2,"value":"Need help?"}],"body":{"compiledSource":"var l=Object.defineProperty,d=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var i=(e,a,t)=\u003ea in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,o=(e,a)=\u003e{for(var t in a||(a={}))c.call(a,t)\u0026\u0026i(e,t,a[t]);if(r)for(var t of r(a))p.call(a,t)\u0026\u0026i(e,t,a[t]);return e},h=(e,a)=\u003ed(e,m(a));var s=(e,a)=\u003e{var t={};for(var n in e)c.call(e,n)\u0026\u0026a.indexOf(n)\u003c0\u0026\u0026(t[n]=e[n]);if(e!=null\u0026\u0026r)for(var n of r(e))a.indexOf(n)\u003c0\u0026\u0026p.call(e,n)\u0026\u0026(t[n]=e[n]);return t};const makeShortcode=e=\u003efunction(t){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",o({},t))},InfoBlock=makeShortcode(\"InfoBlock\"),NextBlock=makeShortcode(\"NextBlock\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var n=t,{components:e}=n,a=s(n,[\"components\"]);return mdx(MDXLayout,h(o(o({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Overview\"),mdx(\"p\",null,\"PlanetScale allows you to branch databases schemas the way you branch your code. \"),mdx(\"p\",null,\"Development database branches are isolated copies of your database created with the current production schema. They can be used to develop features and test changes without impacting your production database. When you're ready, schema changes on a development branch can be safely applied to the production database using PlanetScale\\u2019s \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://docs.planetscale.com/concepts/nonblocking-schema-changes\"}),\"non-blocking schema change workflow\"),\". This workflow ensures that your changes are deployed without blocking the database, locking individual tables, or slowing down production during the migration.\"),mdx(\"p\",null,mdx(\"img\",o({parentName:\"p\"},{src:\"/img/docs/ps_branching_diagram_light.png\",alt:\"PlanetScale Branching Flow Diagram\"}))),mdx(\"h2\",null,\"Development and production branches\"),mdx(\"p\",null,\"PlanetScale provides two types of database branches, \",mdx(\"em\",{parentName:\"p\"},\"development\"),\" branches and \",mdx(\"em\",{parentName:\"p\"},\"production\"),\" branches.\"),mdx(\"p\",null,\"Development branches provide isolated copies of your production database schema where you can make changes, experiment, or run CI.\"),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"Data from the main database is not copied to development branches.\"),mdx(\"p\",null,\"Production branches are highly available databases intended for production traffic. They are protected from direct schema changes by default and include automated daily backups.\"),mdx(InfoBlock,{type:\"tip\",mdxType:\"InfoBlock\"},\"You'll see a \",mdx(\"inlineCode\",null,\"ERROR 1105 (HY000): direct DDL is disabled\"),\" message if you attempt schema changes in a production branch. Create a development branch and start your changes there.\"),mdx(\"h2\",null,\"Branch promotion\"),mdx(\"p\",null,\"PlanetScale provides the ability to promote any development branch with a valid schema to production. Promoting a branch to production will require future schema changes to be made via a deploy request and will engage any custom backup schedules you have configured for production branches in addition to the automatic daily backups.\"),mdx(\"h3\",null,\"Promote the main database branch\"),mdx(\"p\",null,\"Every PlanetScale database is created with a development branch named \",mdx(\"inlineCode\",{parentName:\"p\"},\"main\"),\".\"),mdx(\"p\",null,\"This allows you to apply a schema directly to this branch, import data, and experiment with your database before promoting the branch to production. \"),mdx(\"p\",null,\"Once you are satisfied with the changes you have made to your \",mdx(\"inlineCode\",{parentName:\"p\"},\"main\"),\" branch, you can promote the \",mdx(\"inlineCode\",{parentName:\"p\"},\"main\"),\" branch to production. \"),mdx(\"p\",null,\"A branch can be promoted from the branch overview page in the PlanetScale app or you can use the command below to promote a branch using the \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://docs.planetscale.com/reference/planetscale-cli\"}),\"PlanetScale CLI\"),\". \"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-zsh\"}),`pscale branch promote \u003cdatabase\u003e \u003cbranch\u003e\n`)),mdx(\"h3\",null,\"Promote any development branch\"),mdx(\"p\",null,\"Any PlanetScale development branch can be promoted to production. It's possible to run multiple production branches simultaneously, however it's important to note that PlanetScale does not provide data syncing between production branches.\"),mdx(\"p\",null,\"You can promote any development branch from the given branch overview page, or from the command line with \",mdx(\"inlineCode\",{parentName:\"p\"},\"pscale\"),\". \"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-zsh\"}),`pscale branch promote \u003cdatabase\u003e \u003cbranch\u003e\n`)),mdx(\"h2\",null,\"Create a development branch\"),mdx(\"p\",null,\"You can create a development branch from any production branch. Create a branch from the production branch overview page \",mdx(\"inlineCode\",{parentName:\"p\"},\"app.planetscale.com/\u003corganization\u003e/\u003cdatabase\u003e/\u003cbranch\u003e\"),\" or use the command below.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-zsh\"}),`pscale branch create \u003cdatabase\u003e \u003cbranch\u003e\n`)),mdx(\"h2\",null,\"Deploy a branch\"),mdx(\"p\",null,\"Once you are satisfied with the schema changes you have made on a branch, you can deploy your changes to production. \"),mdx(\"h3\",null,\"Create a deploy request\"),mdx(\"p\",null,\"The first step is to create a deploy request. If you are working in a team, the deploy request creates an opportunity for your teammates to review the changes you have made before they are deployed to production. \"),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"Administrators can require approval for deploy requests in the database's Settings tab.\"),mdx(\"p\",null,\"Create a deploy request from the branch overview page \",mdx(\"inlineCode\",{parentName:\"p\"},\"app.planetscale.com/\u003corganization\u003e/\u003cdatabase\u003e/\u003cbranch\u003e\"),\" or run the command below using the CLI.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{}),`pscale deploy-request create \u003cdatabase\u003e \u003cbranch\u003e\n`)),mdx(\"h3\",null,\"Review the schema diff\"),mdx(\"p\",null,\"The deploy request includes a schema diff that allows you to review the schema changes introduced by the deploy request. View the schema diff in the Schema tab in the PlanetScale app. \"),mdx(\"p\",null,\"You can also run the command below to see the schema diff in the CLI. \"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-zsh\"}),`pscale deploy-request diff \u003cdatabase\u003e \u003cdeploy-request-number\u003e \n`)),mdx(\"h3\",null,\"Add changes to the deploy queue\"),mdx(\"p\",null,\"Once a deploy request has been created (and approved, if required), you will need to add the changes to the deploy queue. Schema changes are deployed to a database in the order in which they are received. PlanetScale analyzes the schema changes in a deploy request when they are added to the deploy queue to ensure that the changes do not conflict with any of the queued schema changes. \"),mdx(\"p\",null,\"To add a deploy request to the deploy queue click on the button \\u201CAdd changes to the deploy queue\\u201D on the deploy request page. \"),mdx(\"p\",null,\"Alternatively, you can run the following command. \"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-zsh\"}),`pscale deploy-request deploy \u003cdatabase\u003e \u003cdeploy-request-number\u003e\n`)),mdx(\"p\",null,\"PlanetScale provides insight on the deploy queue, listing all of the schema changes in the queue with their completion status. \"),mdx(\"p\",null,mdx(\"img\",o({parentName:\"p\"},{src:\"/img/docs/branching-deploy-queue.png\",alt:\"Deploy queue\"}))),mdx(\"h2\",null,\"Set a default branch\"),mdx(\"p\",null,\"Each PlanetScale database with a production branch has a default branch that cannot be deleted. \"),mdx(\"p\",null,\"The first database branch that gets promoted to production is automatically set as the default branch for your database. \"),mdx(\"p\",null,\"However, this can be updated in the database Settings tab. Use the default branch dropdown menu to select the branch you would to set as default and click the Save database settings button to save your changes. \"),mdx(\"h2\",null,\"Delete a branch\"),mdx(\"p\",null,\"You can delete your branch either from the branches overview page \",mdx(\"inlineCode\",{parentName:\"p\"},\"app.planetscale.com/\u003corganization\u003e/\u003cdatabase\u003e/branches\"),\" or run the following command in the CLI.\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-zsh\"}),`pscale branch delete \u003cdatabase\u003e \u003cbranch\u003e\n`)),mdx(\"p\",null,\"We recommend deleting your branch once you have used it to merge a schema change, or if you are no longer using the branch for testing. You can always create a new branch from your production database. \"),mdx(InfoBlock,{type:\"note\",mdxType:\"InfoBlock\"},\"Only organization administrators have permission to delete production branches.\"),mdx(\"h2\",null,\"Resolve a schema conflict\"),mdx(\"p\",null,\"Schema conflicts occur when your development branch has conflicting changes with the production branch. \"),mdx(\"p\",null,\"To resolve a schema conflict, create a new branch, which will have the most up-to-date schema, and apply the necesary schema changes to the new branch before repeating the deploy process. \"),mdx(\"h2\",null,\"Automatically copy migration data\"),mdx(\"p\",null,\"Many frameworks and migration tools keep track of data schema changes in a migration table. When turned on, PlanetScale will automatically copy migration table metadata from your \",mdx(\"inlineCode\",{parentName:\"p\"},\"development\"),\" branch to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"main\"),\" branch as part of our deployment process.\"),mdx(\"p\",null,\"To turn on for your database, go to the web app:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Go into the Settings for your database\"),mdx(\"li\",{parentName:\"ol\"},'Enable \"Automatically copy migration data\"'),mdx(\"li\",{parentName:\"ol\"},\"Select one of the migration frameworks: Rails/Phoenix, Django, .NET, Prisma, Sequelize, or Other, which allows you to specify a custom table name\")),mdx(\"p\",null,\"You can see how this works in this \",mdx(\"a\",o({parentName:\"p\"},{href:\"/tutorial/automatic-rails-migrations\"}),\"Rails migration tutorial\"),\".\"),mdx(\"h2\",null,\"Need help?\"),mdx(\"p\",null,\"Get help from \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://www.planetscale.com/support\"}),\"PlanetScale's support team\"),\", or join our \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://github.com/planetscale/beta/discussions\"}),\"GitHub discussion board\"),\" to see how others are using PlanetScale.\"),mdx(NextBlock,{steps:[{text:\"Non-blocking schema changes\",link:\"/concepts/nonblocking-schema-changes\"},{text:\"Regions\",link:\"/concepts/regions\"}],mdxType:\"NextBlock\"}))}MDXContent.isMDXComponent=!0;\n","scope":{}},"fields":{"slug":"concepts/branching","lastUpdatedOn":"2021-12-25T04:33:55.511Z"}},"__N_SSG":true},"page":"/[category]/[post]","query":{"category":"concepts","post":"branching"},"buildId":"ffRgkaqinJ87gnfSh8k4z","assetPrefix":"/docs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>